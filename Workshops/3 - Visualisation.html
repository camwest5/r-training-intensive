<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.29">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2025-05-02">

<title>Visualisation – R Training Intensive</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-0815c480559380816a4d1ea211a47e91.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-76be1607b859b3fa14e603ea090549ba.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link href="../site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="../site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<script src="../site_libs/plotly-binding-4.10.4/plotly.js"></script>
<script src="../site_libs/typedarray-0.1/typedarray.min.js"></script>
<script src="../site_libs/jquery-3.5.1/jquery.min.js"></script>
<link href="../site_libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="../site_libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>
<link href="../site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="../site_libs/plotly-main-2.11.1/plotly-latest.min.js"></script>


</head>

<body class="nav-sidebar floating nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">R Training Intensive</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="../Workshops/index.html" aria-current="page"> 
<span class="menu-text">Workshops</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../Projects/project_gallery.qmd"> 
<span class="menu-text">Project Gallery</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://uqlibrary.github.io/technology-training"> 
<span class="menu-text">UQ Library Technology Training</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../Workshops/index.html">Workshops</a></li><li class="breadcrumb-item"><a href="../Workshops/3 - Visualisation.html">Visualisation</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../setup.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Intro and Setting Up</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../Workshops/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Workshops</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Workshops/1 - Fundamentals.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">The Fundamentals</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Workshops/2 - Data processing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preparing data for analysis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Workshops/3 - Visualisation.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Visualisation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Workshops/4 - Sharing and Publishing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Sharing and Publishing</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Workshops/5 - Statistics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Statistics</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Workshops/6 - Programming.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Programming Essentials</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false">
 <span class="menu-text">The Project</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Projects/details.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Overview</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Projects/datasets.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Datasets and tips</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#installing-ggplot2" id="toc-installing-ggplot2" class="nav-link active" data-scroll-target="#installing-ggplot2">Installing ggplot2</a></li>
  <li><a href="#finding-help" id="toc-finding-help" class="nav-link" data-scroll-target="#finding-help">Finding help</a>
  <ul class="collapse">
  <li><a href="#introducing-ggplot2" id="toc-introducing-ggplot2" class="nav-link" data-scroll-target="#introducing-ggplot2">Introducing ggplot2</a></li>
  </ul></li>
  <li><a href="#the-components-of-the-grammar-of-graphics" id="toc-the-components-of-the-grammar-of-graphics" class="nav-link" data-scroll-target="#the-components-of-the-grammar-of-graphics">The components of the Grammar of Graphics</a></li>
  <li><a href="#ggplot2s-three-essential-components" id="toc-ggplot2s-three-essential-components" class="nav-link" data-scroll-target="#ggplot2s-three-essential-components">ggplot2’s three essential components</a></li>
  <li><a href="#line-plots" id="toc-line-plots" class="nav-link" data-scroll-target="#line-plots">Line plots</a></li>
  <li><a href="#scatterplots" id="toc-scatterplots" class="nav-link" data-scroll-target="#scatterplots">Scatterplots</a></li>
  <li><a href="#adding-aesthetics" id="toc-adding-aesthetics" class="nav-link" data-scroll-target="#adding-aesthetics">Adding aesthetics</a></li>
  <li><a href="#trend-lines" id="toc-trend-lines" class="nav-link" data-scroll-target="#trend-lines">Trend lines</a></li>
  <li><a href="#layering" id="toc-layering" class="nav-link" data-scroll-target="#layering">Layering</a></li>
  <li><a href="#the-colour-aesthetic" id="toc-the-colour-aesthetic" class="nav-link" data-scroll-target="#the-colour-aesthetic">The <code>colour</code> aesthetic</a></li>
  <li><a href="#saving-a-plot" id="toc-saving-a-plot" class="nav-link" data-scroll-target="#saving-a-plot">Saving a plot</a></li>
  <li><a href="#bar-charts-and-ordered-factors" id="toc-bar-charts-and-ordered-factors" class="nav-link" data-scroll-target="#bar-charts-and-ordered-factors">Bar charts and ordered factors</a>
  <ul class="collapse">
  <li><a href="#customising-a-plot" id="toc-customising-a-plot" class="nav-link" data-scroll-target="#customising-a-plot">Customising a plot</a></li>
  <li><a href="#change-labels" id="toc-change-labels" class="nav-link" data-scroll-target="#change-labels">Change labels</a></li>
  <li><a href="#horizontal-bar-charts" id="toc-horizontal-bar-charts" class="nav-link" data-scroll-target="#horizontal-bar-charts">Horizontal bar charts</a></li>
  <li><a href="#built-in-themes" id="toc-built-in-themes" class="nav-link" data-scroll-target="#built-in-themes">Built-in themes</a></li>
  </ul></li>
  <li><a href="#interactive-visualisations" id="toc-interactive-visualisations" class="nav-link" data-scroll-target="#interactive-visualisations">Interactive visualisations</a></li>
  <li><a href="#further-resources" id="toc-further-resources" class="nav-link" data-scroll-target="#further-resources">Further resources</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../Workshops/index.html">Workshops</a></li><li class="breadcrumb-item"><a href="../Workshops/3 - Visualisation.html">Visualisation</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">Visualisation</h1>
</div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">May 2, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<p>During this session, you will:</p>
<ul>
<li>Have a visualisation package installed (ggplot2)</li>
<li>Learn how to explore data visually</li>
<li>Learn about the 3 essential ggplot2 components</li>
<li>Use different kinds of visualisations</li>
<li>Layer several visualisations</li>
<li>Learn how to customise a plot with colours, labels and themes.</li>
</ul>
<section id="installing-ggplot2" class="level2">
<h2 class="anchored" data-anchor-id="installing-ggplot2">Installing ggplot2</h2>
<p>We first need to make sure we have the <strong>ggplot2 package</strong> available on our computer. We can use the “Install” button in the “Packages” pane, or we can execute this command in the console: <code>install.packages("ggplot2")</code></p>
<p>You only need to install a package once, but you need to load it every time you start a new R session.</p>
<p>We will write ggplot2 code more comfortably in a <strong>script</strong>. Feel free to continue using the script from previous sessions, or create a new one about visualisations.</p>
<p>We can straight away <strong>load the package into the library</strong> by adding this command to our script and executing it:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="finding-help" class="level2">
<h2 class="anchored" data-anchor-id="finding-help">Finding help</h2>
<p>We are going to work with different datasets that come with the ggplot2 package. For any dataset or function doubts that you might have, don’t forget the three ways to bring up a help page:</p>
<ol type="1">
<li>the command: <code>?functionname</code></li>
<li>the keyboard shortcut: press <kbd>F1</kbd> after writing a function name</li>
<li>the search box in the Help pane</li>
</ol>
<section id="introducing-ggplot2" class="level3">
<h3 class="anchored" data-anchor-id="introducing-ggplot2">Introducing ggplot2</h3>
<p>The R package ggplot2 was developed by Hadley Wickham with the objective of creating a grammar of graphics for categorical data (in 2007). It is based on the book <em>The Grammar of Graphics</em> Developed by Leland Wilkinson (first edition published in 1999).</p>
<p>It is now part of the group of data science packages called Tidyverse.</p>
</section>
</section>
<section id="the-components-of-the-grammar-of-graphics" class="level2">
<h2 class="anchored" data-anchor-id="the-components-of-the-grammar-of-graphics">The components of the Grammar of Graphics</h2>
<p>The Grammar of Graphics is based on the idea that you can build every graph from the same few components.</p>
<p>The components are:</p>
<ul>
<li>Data</li>
<li>Mapping</li>
<li>Statistics</li>
<li>Scales</li>
<li>Geometries</li>
<li>Facets</li>
<li>Coordinates</li>
<li>Theme</li>
</ul>
<p>In this introductory session, we will mainly focus on the <strong>data</strong>, the <strong>mapping</strong>, the <strong>statistics</strong>, the <strong>geometries</strong> and the <strong>theme</strong>.</p>
</section>
<section id="ggplot2s-three-essential-components" class="level2">
<h2 class="anchored" data-anchor-id="ggplot2s-three-essential-components">ggplot2’s three essential components</h2>
<p>In ggplot2, the 3 main components that we usually have to provide are:</p>
<ol type="1">
<li>Where the <strong>data</strong> comes from,</li>
<li>the <strong>aesthetic mappings</strong>, and</li>
<li>a <strong>geometry</strong>.</li>
</ol>
<p>For our first example, let’s use the <code>msleep</code> dataset (from the ggplot2 package), which contains data about mammals’ sleeping patterns.</p>
<blockquote class="blockquote">
<p>You can find out about the dataset with <code>?msleep</code>.</p>
</blockquote>
<p>Let’s start with specifying where the <strong>data</strong> comes from in the <code>ggplot()</code> function:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> msleep)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="3---Visualisation_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>This is not very interesting. We need to tell ggplot2 <em>what</em> we want to visualise, by <strong>mapping</strong> <em>aesthetic elements</em> (like our axes) to <em>variables</em> from the data. We want to visualise how common different conservations statuses are, so let’s associate the right variable to the x axis:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> msleep,</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> conservation))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="3---Visualisation_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>ggplot2 has done what we asked it to do: the conservation variable is on the x axis. But nothing is shown on the plot area, because we haven’t defined <em>how</em> to represent the data, with a <code>geometry_*</code> function:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> msleep,</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> conservation)) <span class="sc">+</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="3---Visualisation_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Now we have a useful plot: we can see that a lot of animals in this dataset don’t have a conservation status, and that “least concern” is the next most common value.</p>
<p>We can see our three essential elements in the code:</p>
<ol type="1">
<li>the <strong>data</strong> comes from the <code>msleep</code> object;</li>
<li>the variable <code>conservation</code> is <strong>mapped to the aesthetic</strong> <code>x</code> (i.e.&nbsp;the x axis);</li>
<li>the <strong>geometry</strong> is <code>"bar"</code>, for “bar chart”.</li>
</ol>
<p>Here, we don’t need to specify what variable is associated to the y axis, as the “bar” geometry automatically does a count of the different values in the <code>conservation</code> variable. That is what <strong>statistics</strong> are applied automatically to the data.</p>
<blockquote class="blockquote">
<p>In ggplot2, each geometry has default statistics, so we often don’t need to specify which stats we want to use. We could use a <code>stat_*()</code> function instead of a <code>geom_*()</code> function, but most people start with the geometry (and let ggplot2 pick the default statistics that are applied).</p>
</blockquote>
</section>
<section id="line-plots" class="level2">
<h2 class="anchored" data-anchor-id="line-plots">Line plots</h2>
<p>Let’s have a look at another dataset: the <code>economics</code> dataset from the US. Learn more about it with <code>?economics</code>, and have a peak at its structure with:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(economics)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>spc_tbl_ [574 × 6] (S3: spec_tbl_df/tbl_df/tbl/data.frame)
 $ date    : Date[1:574], format: "1967-07-01" "1967-08-01" ...
 $ pce     : num [1:574] 507 510 516 512 517 ...
 $ pop     : num [1:574] 198712 198911 199113 199311 199498 ...
 $ psavert : num [1:574] 12.6 12.6 11.9 12.9 12.8 11.8 11.7 12.3 11.7 12.3 ...
 $ uempmed : num [1:574] 4.5 4.7 4.6 4.9 4.7 4.8 5.1 4.5 4.1 4.6 ...
 $ unemploy: num [1:574] 2944 2945 2958 3143 3066 ...</code></pre>
</div>
</div>
<p>Do you think that unemployment is stable over the years? Let’s have a look with a line plot, often used to visualise time series:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> economics,</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> date,</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>                     <span class="at">y =</span> unemploy)) <span class="sc">+</span> </span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="3---Visualisation_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Let’s go through our essential elements once more:</p>
<ul>
<li>The <code>ggplot()</code> function initialises a ggplot object. In it, we declare the <strong>input data frame</strong> and specify the set of plot aesthetics used throughout all layers of our plot;</li>
<li>The <code>aes()</code> function groups our <strong>mappings of aesthetics to variables</strong>;</li>
<li>The <code>geom_&lt;...&gt;()</code> function specifies what <strong>geometric element</strong> we want to use.</li>
</ul>
</section>
<section id="scatterplots" class="level2">
<h2 class="anchored" data-anchor-id="scatterplots">Scatterplots</h2>
<p>Scatterplots are often used to look at the relationship between two variables. Let’s try it with a new dataset: <code>mpg</code> (which stands for “miles per gallon”), a dataset about fuel efficiency of different models of cars.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>?mpg</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(mpg)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Do you think that big engines use fuel more efficiently than small engines?</p>
<p>We can focus on two variables:</p>
<ul>
<li><code>displ</code>: a car’s engine size, in litres.</li>
<li><code>hwy</code>: a car’s fuel efficiency on the highway, in miles per gallon.</li>
</ul>
<p>For the geometry, we now have use “points”:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> mpg,</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> displ,</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>                     <span class="at">y =</span> hwy)) <span class="sc">+</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="3---Visualisation_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Notice how the points seem to be aligned on a grid? That’s because the data was rounded. If we want to better visualise the density of points, we can use the “count” geometry, which makes the dots bigger when data points have the same <code>x</code> and <code>y</code> values:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> mpg,</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> displ,</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>                     <span class="at">y =</span> hwy)) <span class="sc">+</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_count</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="3---Visualisation_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Alternatively, we can avoid overlapping of points by using the “jitter” geometry, which gives the points a little shake:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> mpg,</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> displ,</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>                     <span class="at">y =</span> hwy)) <span class="sc">+</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_jitter</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="3---Visualisation_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Even though the position of the dots does not match exactly the original <code>x</code> and <code>y</code> values, it does help visualise densities better.</p>
<p>The plot shows a negative relationship between engine size (<code>displ</code>) and fuel efficiency (<code>hwy</code>). In other words, cars with big engines use more fuel. Does this confirm or refute your hypothesis about fuel efficiency and engine size?</p>
<p>However, we can see some outliers. We need to find out more about our data.</p>
</section>
<section id="adding-aesthetics" class="level2">
<h2 class="anchored" data-anchor-id="adding-aesthetics">Adding aesthetics</h2>
<p>We can highlight the “class” factor by adding a new aesthetic:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> mpg,</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> displ,</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>                     <span class="at">y =</span> hwy,</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>                     <span class="at">colour =</span> class)) <span class="sc">+</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_jitter</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="3---Visualisation_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>It seems that two-seaters are more fuel efficient than other cars with a similar engine size, which can be explained by the lower weight of the car. The general trend starts to make more sense!</p>
<p>We now know how to create a simple scatterplot, and how to visualise extra variables. But how can we better represent a correlation?</p>
</section>
<section id="trend-lines" class="level2">
<h2 class="anchored" data-anchor-id="trend-lines">Trend lines</h2>
<p>A trend line can be created with the <code>geom_smooth()</code> function:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg,</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> displ,</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> hwy)) <span class="sc">+</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using method = 'loess' and formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="3---Visualisation_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<blockquote class="blockquote">
<p>We stopped using the argument names because we know in which order they appear: first the data, then the mapping of aesthetics. Let’s save ourselves some typing from now on!</p>
</blockquote>
<p>The console shows you what function / formula was used to draw the trend line. This is important information, as there are countless ways to do that. To better understand what happens in the background, open the function’s help page and notice that the default value for the <code>method</code> argument is “NULL”. Read up on how it automatically picks a suitable method depending on the sample size, in the “Arguments” section.</p>
<p>Want a linear trend line instead? Add the argument <code>method = "lm"</code> to your function:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg,</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> displ,</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> hwy)) <span class="sc">+</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="3---Visualisation_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="layering" class="level2">
<h2 class="anchored" data-anchor-id="layering">Layering</h2>
<p>A trend line is usually displayed on top of the scatterplot. How can we combine several layers? We can string them with the <code>+</code> operator:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg,</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> displ,</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> hwy)) <span class="sc">+</span> </span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="3---Visualisation_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<blockquote class="blockquote">
<p>The order of the functions matters: the points will be drawn before the trend line, which is probably what you’re after.</p>
</blockquote>
</section>
<section id="the-colour-aesthetic" class="level2">
<h2 class="anchored" data-anchor-id="the-colour-aesthetic">The <code>colour</code> aesthetic</h2>
<p>We can once again add some information to our visualisation by mapping the <code>class</code> variable to the <code>colour</code> aesthetic:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg,</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> displ,</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> hwy)) <span class="sc">+</span> </span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">colour =</span> class)) <span class="sc">+</span> </span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="3---Visualisation_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>Challenge 1 – where should aesthetics be defined?</strong></p>
<p>Take the last plot we created:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg,</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> displ,</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> hwy)) <span class="sc">+</span> </span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">colour =</span> class)) <span class="sc">+</span> </span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>What would happen if you moved the <code>colour = class</code> aesthetic from the geometry function to the <code>ggplot()</code> call?</p>
<p>Different geometries can also have their own mappings that overwrite the defaults. If you place mappings in a <code>geom_*</code> function, ggplot2 will treat them as local mappings for the layer. It will use these mappings to extend or overwrite the global mappings for that layer only. This makes it possible to display different aesthetics in different layers.</p>
</section>
<section id="saving-a-plot" class="level2">
<h2 class="anchored" data-anchor-id="saving-a-plot">Saving a plot</h2>
<p>Like your visualisation? You can export it with the “Export” menu in the “Plots” pane.</p>
<ul>
<li>Building a document or a slideshow? You can copy it straight to your clipboard, and paste it into it.</li>
<li>A PDF is a good, quick option to export an easily shareable file with vector graphics. Try for example the “A5” size, the “Landscape” orientation, and save it into your “plots” directory.</li>
<li>More options are available in the “Save as image…” option. PNG is a good compressed format for graphics, but if you want to further customise your visualisation in a different program, use SVG or EPS, which are vector formats. (Try to open an SVG file in <a href="https://inkscape.org/">Inkscape</a> for example.)</li>
</ul>
<p>To save the last plot with a command, you can use the <code>ggsave()</code> function:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="at">filename =</span> <span class="st">"plots/fuel_efficiency.png"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This is great to automate the export process for each plot in your script, but <code>ggsave()</code> also has extra options, like setting the DPI, which is useful for getting the right resolution for a specific use. For example, to export a plot for your presentation:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="at">filename =</span> <span class="st">"plots/fuel_efficiency.png"</span>, <span class="at">dpi =</span> <span class="st">"screen"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<blockquote class="blockquote">
<p>Saving a .svg file with requires installing the svglite package. This packages seems so work best installing in a fresh R session (Session &gt; Restart R) from source <code>install.packages("svglite", type = "source")</code>. Then load the library <code>library(svglite)</code> rerun your code including loading previous libraries (<code>ggplot2</code> etc.) and now saving a plot with a .svg extension should work!</p>
</blockquote>
<p><strong>Challenge 2 – add a variable and a smooth line</strong></p>
<p>Let’s use a similar approach to what we did with the <code>mpg</code> dataset.</p>
<p>Take our previous unemployment visualisation, but represented with points this time:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(economics,</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> date,</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> unemploy)) <span class="sc">+</span> </span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>How could we:</p>
<ol type="1">
<li>Add a smooth line for the number of unemployed people. Are there any interesting arguments that could make the smoother more useful?</li>
<li>Colour the points according to the median duration of unemployment (see <code>?economics</code>)</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(economics,</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> date,</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> unemploy)) <span class="sc">+</span> </span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">colour =</span> uempmed)) <span class="sc">+</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="3---Visualisation_files/figure-html/unnamed-chunk-20-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<blockquote class="blockquote">
<p>See how the legend changes depending on the type of data mapped to the <code>colour</code> aesthetic? (i.e.&nbsp;categorical vs continuous)</p>
</blockquote>
<p>This default “trend line” is not particularly useful. We could make it follow the data more closely by using the <code>span</code> argument. The closer to 0, the closer to the data the smoother will be:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(economics,</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> date,</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> unemploy)) <span class="sc">+</span> </span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">colour =</span> uempmed)) <span class="sc">+</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">span =</span> <span class="fl">0.1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="3---Visualisation_files/figure-html/unnamed-chunk-21-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>You can now see why this is called a “smoother”: we can fit a smooth curve to data that varies a lot.</p>
<p>To further refine our visualisation, we could visualise the unemployment rate rather than the number of unemployed people, by calculating it straight into our code:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(economics,</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> date,</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> unemploy <span class="sc">/</span> pop)) <span class="sc">+</span> </span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">colour =</span> uempmed)) <span class="sc">+</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">span =</span> <span class="fl">0.1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="3---Visualisation_files/figure-html/unnamed-chunk-22-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>The <a href="https://en.wikipedia.org/wiki/Early_1980s_recession">early 1980s recession</a> now seems to have had a more significant impact on unemployment than the <a href="https://en.wikipedia.org/wiki/Financial_crisis_of_2007%E2%80%9308">Global Financial Crisis</a> of 2007-2008.</p>
</section>
<section id="bar-charts-and-ordered-factors" class="level2">
<h2 class="anchored" data-anchor-id="bar-charts-and-ordered-factors">Bar charts and ordered factors</h2>
<p>Let’s use the <code>diamonds</code> dataset now. The <code>diamonds</code> dataset comes with ggplot2 and contains information about ~54,000 diamonds, including the price, carat, colour, clarity, and cut quality of each diamond.</p>
<p>Let’s have a look at the data:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>diamonds</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(diamonds)</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>?diamonds</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Back to bar charts. Consider a basic bar chart, as drawn with <code>geom_bar()</code>. The following chart displays the total number of diamonds in the <code>diamonds</code> dataset, grouped by cut:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(diamonds,</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> cut)) <span class="sc">+</span> </span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_bar</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="3---Visualisation_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>The chart shows that more diamonds are available with high quality cuts than with low quality cuts.</p>
<p><code>cut</code> is an ordered factor, which you can confirm by printing it to the console:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(diamonds<span class="sc">$</span>cut)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] Ideal     Premium   Good      Premium   Good      Very Good
Levels: Fair &lt; Good &lt; Very Good &lt; Premium &lt; Ideal</code></pre>
</div>
</div>
<p>See how ggplot2 respects that order in the bar chart?</p>
<section id="customising-a-plot" class="level3">
<h3 class="anchored" data-anchor-id="customising-a-plot">Customising a plot</h3>
<p>Let’s see how we can customise our bar chart’s look.</p>
<section id="change-a-geometrys-default-colour" class="level4">
<h4 class="anchored" data-anchor-id="change-a-geometrys-default-colour">Change a geometry’s default colour</h4>
<p>First, we can pick our favourite colour in <code>geom_bar()</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(diamonds,</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> cut)) <span class="sc">+</span> </span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_bar</span>(<span class="at">fill =</span> <span class="st">"tomato"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="3---Visualisation_files/figure-html/unnamed-chunk-26-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>If you are curious about what colour names exist in R, you can use the <code>colours()</code> function. Alernatively, you can use any hex value like “#760daa”.</p>
</section>
</section>
<section id="change-labels" class="level3">
<h3 class="anchored" data-anchor-id="change-labels">Change labels</h3>
<p>We can also modify labels with the <code>labs()</code> function to make our plot more self-explanatory:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(diamonds,</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> cut)) <span class="sc">+</span> </span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_bar</span>(<span class="at">fill =</span> <span class="st">"tomato"</span>) <span class="sc">+</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Where are the bad ones?"</span>,</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">x =</span> <span class="st">"Quality of the cut"</span>,</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">y =</span> <span class="st">"Number of diamonds"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="3---Visualisation_files/figure-html/unnamed-chunk-27-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Let’s have a look at what <code>labs()</code> can do:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>?labs</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>It can edit the title, the subtitle, the x and y axes labels, and the caption.</p>
<blockquote class="blockquote">
<p>Remember that captions and titles are better sorted out in the publication itself, especially for accessibility reasons (e.g.&nbsp;to help with screen readers).</p>
</blockquote>
</section>
<section id="horizontal-bar-charts" class="level3">
<h3 class="anchored" data-anchor-id="horizontal-bar-charts">Horizontal bar charts</h3>
<p>For a horizontal bar chart, we can map the <code>cut</code> variable to the <code>y</code> aesthetic instead of <code>x</code>. But remember to also change your labels around!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(diamonds,</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">y =</span> cut)) <span class="sc">+</span> <span class="co"># switch here...</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">fill =</span> <span class="st">"tomato"</span>) <span class="sc">+</span></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Where are the bad ones?"</span>,</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Quality of the cut"</span>, <span class="co"># ...but also here!</span></span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Number of diamonds"</span>) <span class="co"># ...and here!</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="3---Visualisation_files/figure-html/unnamed-chunk-29-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>This is particularly helpful when long category names overlap under the x axis.</p>
</section>
<section id="built-in-themes" class="level3">
<h3 class="anchored" data-anchor-id="built-in-themes">Built-in themes</h3>
<p>The <code>theme()</code> function allows us to really get into the details of our plot’s look, but some <code>theme_*()</code> functions make it easy to apply a built-in theme, like <code>theme_bw()</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(diamonds,</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">y =</span> cut)) <span class="sc">+</span> </span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">fill =</span> <span class="st">"tomato"</span>) <span class="sc">+</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Where are the bad ones?"</span>,</span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Quality of the cut"</span>,</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Number of diamonds"</span>) <span class="sc">+</span></span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="3---Visualisation_files/figure-html/unnamed-chunk-30-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Try <code>theme_minimal()</code> as well, and if you want more options, install the <code>ggthemes</code> package!</p>
</section>
</section>
<section id="interactive-visualisations" class="level2">
<h2 class="anchored" data-anchor-id="interactive-visualisations">Interactive visualisations</h2>
<p>Plotly is a package that allows creating interactive visualisation. A nifty aspect of it is that it can directly convert most static ggplot2 visualisations to interactive HTML visualisations.</p>
<p>After installing the package, you can convert our mpg visualisation by saving it as an object, and passing it to the <code>ggplotly()</code> function:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>static_plot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(mpg,</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">aes</span>(<span class="at">x =</span> displ,</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>                          <span class="at">y =</span> hwy)) <span class="sc">+</span> </span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="fu">aes</span>(<span class="at">colour =</span> class)) <span class="sc">+</span> </span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>()</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(static_plot)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-f1b0d40fb7462dfbd258" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-f1b0d40fb7462dfbd258">{"x":{"data":[{"x":[5.6867257584445179,5.6980921846069394,6.222630779221654,6.227992564328015,7.0347937612980607],"y":[26.186471364647151,23.013580594956874,26.387271330878139,24.930772298201919,23.623215834982695],"text":["displ: 5.7<br />hwy: 26<br />class: 2seater","displ: 5.7<br />hwy: 23<br />class: 2seater","displ: 6.2<br />hwy: 26<br />class: 2seater","displ: 6.2<br />hwy: 25<br />class: 2seater","displ: 7.0<br />hwy: 24<br />class: 2seater"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"2seater","legendgroup":"2seater","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1.8003072919324041,1.8051657038182021,2.030057795830071,2.024980214256793,2.8099581939168274,2.8197669482789931,3.1339215465448795,1.7758450337685645,1.8332916964031756,1.9628589673154058,1.9927472799271346,2.7727434493228791,2.7903641946054996,3.1391996103338897,3.1025755999982358,2.4390719699114558,2.3753089392744005,2.5181485011056064,2.4917417244799434,2.5190503293648363,2.4967350322008133,2.170301540605724,2.1641419679857794,2.3874732260592282,2.4212006897106764,3.0028552654385567,2.9705040871538224,3.2936998651735485,1.8333363691717386,1.8039157983846963,1.8176652171835304,1.8143254040181638,1.7884104734659196,2.0017991602420806,1.9983388836123048,1.9774267363362015,1.9721841498836876,2.7839751940220592,1.8655516005121171,1.9825744163244963,1.9767823287844659,2.010880683399737,2.0175388339348137,2.5333739834837616,2.5257003783434628,2.8157450499758121,2.7861630922369658],"y":[29.168189859949052,28.79811227582395,30.732067219354214,30.145114873535931,26.086919739842415,26.091831833124161,26.998476827144621,25.833287776447833,25.326796720735729,27.785538935102522,26.695298473350704,25.218922723457219,24.646758172474801,25.015413613989949,24.896040850318968,28.790440378338097,26.6447789426893,25.307732320018111,26.935947889462113,25.322286704741419,26.855016803368926,26.680614881031214,28.910583426989614,30.807593412697315,30.852178596518932,26.288154472783209,25.76478614360094,26.843350877612828,30.067067637853324,32.725408405438067,34.887204510346052,37.357248515635732,35.094282599724828,29.294733888283371,26.033974581211805,28.90686852131039,28.689125284925105,23.943247572518885,44.310617826506494,28.657707598805427,26.163280292972921,28.984393518790604,29.200858419388531,29.022032108530404,29.273958272486926,23.289493358507752,24.289431296102702],"text":["displ: 1.8<br />hwy: 29<br />class: compact","displ: 1.8<br />hwy: 29<br />class: compact","displ: 2.0<br />hwy: 31<br />class: compact","displ: 2.0<br />hwy: 30<br />class: compact","displ: 2.8<br />hwy: 26<br />class: compact","displ: 2.8<br />hwy: 26<br />class: compact","displ: 3.1<br />hwy: 27<br />class: compact","displ: 1.8<br />hwy: 26<br />class: compact","displ: 1.8<br />hwy: 25<br />class: compact","displ: 2.0<br />hwy: 28<br />class: compact","displ: 2.0<br />hwy: 27<br />class: compact","displ: 2.8<br />hwy: 25<br />class: compact","displ: 2.8<br />hwy: 25<br />class: compact","displ: 3.1<br />hwy: 25<br />class: compact","displ: 3.1<br />hwy: 25<br />class: compact","displ: 2.4<br />hwy: 29<br />class: compact","displ: 2.4<br />hwy: 27<br />class: compact","displ: 2.5<br />hwy: 25<br />class: compact","displ: 2.5<br />hwy: 27<br />class: compact","displ: 2.5<br />hwy: 25<br />class: compact","displ: 2.5<br />hwy: 27<br />class: compact","displ: 2.2<br />hwy: 27<br />class: compact","displ: 2.2<br />hwy: 29<br />class: compact","displ: 2.4<br />hwy: 31<br />class: compact","displ: 2.4<br />hwy: 31<br />class: compact","displ: 3.0<br />hwy: 26<br />class: compact","displ: 3.0<br />hwy: 26<br />class: compact","displ: 3.3<br />hwy: 27<br />class: compact","displ: 1.8<br />hwy: 30<br />class: compact","displ: 1.8<br />hwy: 33<br />class: compact","displ: 1.8<br />hwy: 35<br />class: compact","displ: 1.8<br />hwy: 37<br />class: compact","displ: 1.8<br />hwy: 35<br />class: compact","displ: 2.0<br />hwy: 29<br />class: compact","displ: 2.0<br />hwy: 26<br />class: compact","displ: 2.0<br />hwy: 29<br />class: compact","displ: 2.0<br />hwy: 29<br />class: compact","displ: 2.8<br />hwy: 24<br />class: compact","displ: 1.9<br />hwy: 44<br />class: compact","displ: 2.0<br />hwy: 29<br />class: compact","displ: 2.0<br />hwy: 26<br />class: compact","displ: 2.0<br />hwy: 29<br />class: compact","displ: 2.0<br />hwy: 29<br />class: compact","displ: 2.5<br />hwy: 29<br />class: compact","displ: 2.5<br />hwy: 29<br />class: compact","displ: 2.8<br />hwy: 23<br />class: compact","displ: 2.8<br />hwy: 24<br />class: compact"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(196,154,0,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(196,154,0,1)"}},"hoveron":"points","name":"compact","legendgroup":"compact","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2.7880307982116936,3.1233084661327304,4.2207834426686173,2.3728049618192015,2.4278480790182946,3.1269176076166332,3.4992284384742378,3.6324640160240231,2.4104889723472298,2.3998842007108032,2.437755802609026,2.4205050366930663,2.5344986416958273,2.5215359032526612,3.2705681063048542,2.4993925752118229,2.4918759239092472,3.4603862250223756,3.4730592571757737,2.9717917225696149,2.9774919011816383,3.4639903390780091,3.0708502902090551,3.7708455419912932,3.8123571601510045,3.833592145722359,5.3150440785661335,2.1760162817873065,2.2105922400578857,2.3804799766279756,2.4065313904918728,3.0320028368383647,2.9992192918621003,3.4697418111748997,1.7757733033597471,1.7850412417016925,1.9705960415489974,1.9769558789581061,2.8256620917282995,2.7859298991225661,3.5604890024289491],"y":[24.17819812744856,25.02702422067523,22.653520539775492,27.282972470298411,29.671612641401587,26.27073388490826,29.285502170212567,26.068866045773028,25.856047669053076,27.320957547798752,30.15206817854196,30.964186925627292,25.619238443858922,26.007922391965984,27.929496447928251,31.253901397436856,32.105625506676731,26.741111225448549,26.086691443249585,25.887226994149387,24.798059450462461,25.318717074580491,26.319051769003273,25.655994851142168,26.933241864480078,27.849542416818441,25.396231780014933,29.000108938291667,26.827336145937444,31.227998693659902,31.073221756890415,26.219538041017948,26.240338514372706,27.783209806121885,28.949409450776876,29.142809965461492,28.380455119721592,28.7856383273378,25.879411734081806,26.173015894740821,25.669262321852148],"text":["displ: 2.8<br />hwy: 24<br />class: midsize","displ: 3.1<br />hwy: 25<br />class: midsize","displ: 4.2<br />hwy: 23<br />class: midsize","displ: 2.4<br />hwy: 27<br />class: midsize","displ: 2.4<br />hwy: 30<br />class: midsize","displ: 3.1<br />hwy: 26<br />class: midsize","displ: 3.5<br />hwy: 29<br />class: midsize","displ: 3.6<br />hwy: 26<br />class: midsize","displ: 2.4<br />hwy: 26<br />class: midsize","displ: 2.4<br />hwy: 27<br />class: midsize","displ: 2.4<br />hwy: 30<br />class: midsize","displ: 2.4<br />hwy: 31<br />class: midsize","displ: 2.5<br />hwy: 26<br />class: midsize","displ: 2.5<br />hwy: 26<br />class: midsize","displ: 3.3<br />hwy: 28<br />class: midsize","displ: 2.5<br />hwy: 31<br />class: midsize","displ: 2.5<br />hwy: 32<br />class: midsize","displ: 3.5<br />hwy: 27<br />class: midsize","displ: 3.5<br />hwy: 26<br />class: midsize","displ: 3.0<br />hwy: 26<br />class: midsize","displ: 3.0<br />hwy: 25<br />class: midsize","displ: 3.5<br />hwy: 25<br />class: midsize","displ: 3.1<br />hwy: 26<br />class: midsize","displ: 3.8<br />hwy: 26<br />class: midsize","displ: 3.8<br />hwy: 27<br />class: midsize","displ: 3.8<br />hwy: 28<br />class: midsize","displ: 5.3<br />hwy: 25<br />class: midsize","displ: 2.2<br />hwy: 29<br />class: midsize","displ: 2.2<br />hwy: 27<br />class: midsize","displ: 2.4<br />hwy: 31<br />class: midsize","displ: 2.4<br />hwy: 31<br />class: midsize","displ: 3.0<br />hwy: 26<br />class: midsize","displ: 3.0<br />hwy: 26<br />class: midsize","displ: 3.5<br />hwy: 28<br />class: midsize","displ: 1.8<br />hwy: 29<br />class: midsize","displ: 1.8<br />hwy: 29<br />class: midsize","displ: 2.0<br />hwy: 28<br />class: midsize","displ: 2.0<br />hwy: 29<br />class: midsize","displ: 2.8<br />hwy: 26<br />class: midsize","displ: 2.8<br />hwy: 26<br />class: midsize","displ: 3.6<br />hwy: 26<br />class: midsize"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(83,180,0,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(83,180,0,1)"}},"hoveron":"points","name":"midsize","legendgroup":"midsize","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2.3901771947182713,2.9997311650961636,3.3022567814029751,3.3115441126935181,3.3278981275297697,3.3334860560670494,3.3002495084516701,3.8070417993888257,3.7848183850385246,3.8014172738976777,3.9897048131376507],"y":[23.833129701018333,24.201529058255254,21.976571763120592,21.95653419829905,23.950043881684543,24.106886097975075,16.854257880710065,22.350558944046497,20.772539296001195,23.146873279660941,23.21794212460518],"text":["displ: 2.4<br />hwy: 24<br />class: minivan","displ: 3.0<br />hwy: 24<br />class: minivan","displ: 3.3<br />hwy: 22<br />class: minivan","displ: 3.3<br />hwy: 22<br />class: minivan","displ: 3.3<br />hwy: 24<br />class: minivan","displ: 3.3<br />hwy: 24<br />class: minivan","displ: 3.3<br />hwy: 17<br />class: minivan","displ: 3.8<br />hwy: 22<br />class: minivan","displ: 3.8<br />hwy: 21<br />class: minivan","displ: 3.8<br />hwy: 23<br />class: minivan","displ: 4.0<br />hwy: 23<br />class: minivan"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,192,148,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,192,148,1)"}},"hoveron":"points","name":"minivan","legendgroup":"minivan","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.6858369957469406,3.7209828559681775,3.9392814750410614,3.8610123299807309,4.7166675956733526,4.707337958682329,4.7195073510147632,5.2375865782983597,5.1706960784271363,4.7133043681271376,4.6674496703967456,4.6897456770390278,4.6833061927184465,4.7259131281450388,4.7258783659711483,5.2000784773565831,5.218916459903121,5.7194400735944511,5.8626590858027345,4.2190101631172006,4.20533929862082,4.5773687340877949,4.5867658744938664,4.5735794869251549,5.4128137806802989,5.3844081349484627,2.7083438882231712,2.6914504297263924,2.6983406257070603,3.3976116883009673,3.4250016847811637,3.960124619267881,3.9712145553529266],"y":[19.123008269816637,17.840033495612442,17.137711408734322,17.360616812482476,19.001928471587597,19.341366245411336,12.037136627361178,17.3075024260208,15.299459498748183,15.82093201968819,11.726854581572116,17.090023311413823,16.832241313531995,15.647505034692585,12.384899476915598,14.857791478745639,16.387048344500364,17.364647953025997,14.70071763265878,16.858002573251724,17.15940188560635,16.295265311188995,15.67142174616456,17.024217210337518,14.762463591992855,16.785132044740021,19.703696927241982,20.16405565775931,22.132901326194407,17.047695979103445,19.122713920660317,18.271570624783635,19.821254277229308],"text":["displ: 3.7<br />hwy: 19<br />class: pickup","displ: 3.7<br />hwy: 18<br />class: pickup","displ: 3.9<br />hwy: 17<br />class: pickup","displ: 3.9<br />hwy: 17<br />class: pickup","displ: 4.7<br />hwy: 19<br />class: pickup","displ: 4.7<br />hwy: 19<br />class: pickup","displ: 4.7<br />hwy: 12<br />class: pickup","displ: 5.2<br />hwy: 17<br />class: pickup","displ: 5.2<br />hwy: 15<br />class: pickup","displ: 4.7<br />hwy: 16<br />class: pickup","displ: 4.7<br />hwy: 12<br />class: pickup","displ: 4.7<br />hwy: 17<br />class: pickup","displ: 4.7<br />hwy: 17<br />class: pickup","displ: 4.7<br />hwy: 16<br />class: pickup","displ: 4.7<br />hwy: 12<br />class: pickup","displ: 5.2<br />hwy: 15<br />class: pickup","displ: 5.2<br />hwy: 16<br />class: pickup","displ: 5.7<br />hwy: 17<br />class: pickup","displ: 5.9<br />hwy: 15<br />class: pickup","displ: 4.2<br />hwy: 17<br />class: pickup","displ: 4.2<br />hwy: 17<br />class: pickup","displ: 4.6<br />hwy: 16<br />class: pickup","displ: 4.6<br />hwy: 16<br />class: pickup","displ: 4.6<br />hwy: 17<br />class: pickup","displ: 5.4<br />hwy: 15<br />class: pickup","displ: 5.4<br />hwy: 17<br />class: pickup","displ: 2.7<br />hwy: 20<br />class: pickup","displ: 2.7<br />hwy: 20<br />class: pickup","displ: 2.7<br />hwy: 22<br />class: pickup","displ: 3.4<br />hwy: 17<br />class: pickup","displ: 3.4<br />hwy: 19<br />class: pickup","displ: 4.0<br />hwy: 18<br />class: pickup","displ: 4.0<br />hwy: 20<br />class: pickup"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,182,235,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,182,235,1)"}},"hoveron":"points","name":"pickup","legendgroup":"pickup","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.8274892533011733,3.8346332267671821,3.9672593396902087,4.0129197552986442,4.6183898455463348,4.6096510167419904,4.6318437596224245,4.6190409219078719,5.4062298935838049,1.6324717300198972,1.56074866803363,1.5792597752436996,1.5769220807775857,1.6021642738208175,1.803068566583097,1.8365648732520639,1.8399027300998567,2.0213476691022514,2.0294812253676353,2.0267881517671049,2.028201050516218,1.9721281792782248,2.6874725854396821,2.7200755497254434,2.7189292805641889,2.2029321385920051,2.2321324973739682,2.4716170329041782,2.4983614447712896,1.9389643884077665,1.9033217915333807,1.9932154784910381,2.021639277599752,2.4984594092518093,2.5260309446416795],"y":[25.923220403864981,24.92251088451594,26.129442872665823,24.050142288021743,21.195711887069045,21.78061531111598,23.102606239169837,22.244433758966625,20.064316696673632,33.294007683359084,32.310322573781015,31.994243863597511,28.904271530359985,32.201446765847507,33.703081754408778,35.687224215082821,35.994528598710893,29.231413452140988,25.615437834523618,29.31558471340686,28.291746665723622,27.100504478439689,23.683576239086687,23.638268564268948,24.30029808692634,26.35419324822724,25.718048074282706,26.390750088170172,26.184113935008646,43.821268921718001,41.146922753006223,28.860928360559047,25.656506889499724,28.004481478407978,28.944487944059073],"text":["displ: 3.8<br />hwy: 26<br />class: subcompact","displ: 3.8<br />hwy: 25<br />class: subcompact","displ: 4.0<br />hwy: 26<br />class: subcompact","displ: 4.0<br />hwy: 24<br />class: subcompact","displ: 4.6<br />hwy: 21<br />class: subcompact","displ: 4.6<br />hwy: 22<br />class: subcompact","displ: 4.6<br />hwy: 23<br />class: subcompact","displ: 4.6<br />hwy: 22<br />class: subcompact","displ: 5.4<br />hwy: 20<br />class: subcompact","displ: 1.6<br />hwy: 33<br />class: subcompact","displ: 1.6<br />hwy: 32<br />class: subcompact","displ: 1.6<br />hwy: 32<br />class: subcompact","displ: 1.6<br />hwy: 29<br />class: subcompact","displ: 1.6<br />hwy: 32<br />class: subcompact","displ: 1.8<br />hwy: 34<br />class: subcompact","displ: 1.8<br />hwy: 36<br />class: subcompact","displ: 1.8<br />hwy: 36<br />class: subcompact","displ: 2.0<br />hwy: 29<br />class: subcompact","displ: 2.0<br />hwy: 26<br />class: subcompact","displ: 2.0<br />hwy: 29<br />class: subcompact","displ: 2.0<br />hwy: 28<br />class: subcompact","displ: 2.0<br />hwy: 27<br />class: subcompact","displ: 2.7<br />hwy: 24<br />class: subcompact","displ: 2.7<br />hwy: 24<br />class: subcompact","displ: 2.7<br />hwy: 24<br />class: subcompact","displ: 2.2<br />hwy: 26<br />class: subcompact","displ: 2.2<br />hwy: 26<br />class: subcompact","displ: 2.5<br />hwy: 26<br />class: subcompact","displ: 2.5<br />hwy: 26<br />class: subcompact","displ: 1.9<br />hwy: 44<br />class: subcompact","displ: 1.9<br />hwy: 41<br />class: subcompact","displ: 2.0<br />hwy: 29<br />class: subcompact","displ: 2.0<br />hwy: 26<br />class: subcompact","displ: 2.5<br />hwy: 28<br />class: subcompact","displ: 2.5<br />hwy: 29<br />class: subcompact"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(165,138,255,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(165,138,255,1)"}},"hoveron":"points","name":"subcompact","legendgroup":"subcompact","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[5.3186081354320045,5.2905031344667073,5.276421659272164,5.6830533787608148,6.0252006009779873,5.2935648628510537,5.3161598441563545,5.7038427549600605,6.5238904403895139,3.9221440471336244,4.6848713970556854,4.6963815868645904,4.7080012884363533,5.2315529103577134,5.7372015918232497,5.8634278374351565,4.5785740363597869,5.4246371277421712,5.4003952887654307,3.9724775248393418,4.0134184095263477,4.0100138445757327,4.0208099573664366,4.60652560390532,4.9705741566419599,2.9749524845741688,3.6860077589005233,4.0147797988168898,4.718636109177023,4.6893201354891065,4.6730943436920649,5.6709937737323344,6.0632529368996622,3.9935483514890073,4.2081554416008293,4.3740143808349972,4.6172522896155712,5.429122915957123,5.431479177884758,5.3738437735103073,4.0134946948289869,3.9944108210504057,4.5957854508422313,5.0203058633580806,3.3285385277867316,3.2611343260109424,4.0026846598275005,5.6216955189034339,2.515115534272045,2.4867791206389667,2.5034700355678798,2.5210248112678526,2.5192175815813243,2.480395982861519,2.7155748428963125,2.7201523160748184,3.3643706018291413,3.3808870361000301,3.9649511348642412,4.736607500743121,4.701709885168821,5.7366085347905758],"y":[19.888759959116577,15.230628933943809,19.703386032208801,16.832882991060615,17.06258341539651,19.344368469901383,14.258729398623109,14.611068328097463,17.337465330585836,16.916247854195536,16.832853574678303,12.03269131127745,16.830107278004288,15.644539902359247,18.33968292903155,14.99450471047312,17.243954056687652,16.768250109814108,17.737046303413809,17.102732329629362,18.843352406099438,16.630289286933838,19.214045430161057,18.606373066827654,16.697227150388063,21.841375820711256,18.904424576833843,20.205567973107101,16.970964936539531,12.088500146009029,18.780284282751381,18.173977552913129,14.081918380223215,15.122419034875929,17.874308667890727,17.904958033375443,15.383925121836365,17.356295795366169,15.723776296898723,18.270594015344976,16.621046162955462,18.779157663322984,18.814085725322364,16.755509494245054,17.064806231483818,16.71479694377631,20.11484903767705,17.877325602807105,25.286002681218086,24.291855697520077,27.330962365865709,25.034610196389259,26.162826476432382,22.707448150031269,19.961922113411127,20.270779646001756,19.0376262081787,16.837318672239782,19.94534395057708,16.62008277028799,15.032647589966654,17.649460147321225],"text":["displ: 5.3<br />hwy: 20<br />class: suv","displ: 5.3<br />hwy: 15<br />class: suv","displ: 5.3<br />hwy: 20<br />class: suv","displ: 5.7<br />hwy: 17<br />class: suv","displ: 6.0<br />hwy: 17<br />class: suv","displ: 5.3<br />hwy: 19<br />class: suv","displ: 5.3<br />hwy: 14<br />class: suv","displ: 5.7<br />hwy: 15<br />class: suv","displ: 6.5<br />hwy: 17<br />class: suv","displ: 3.9<br />hwy: 17<br />class: suv","displ: 4.7<br />hwy: 17<br />class: suv","displ: 4.7<br />hwy: 12<br />class: suv","displ: 4.7<br />hwy: 17<br />class: suv","displ: 5.2<br />hwy: 16<br />class: suv","displ: 5.7<br />hwy: 18<br />class: suv","displ: 5.9<br />hwy: 15<br />class: suv","displ: 4.6<br />hwy: 17<br />class: suv","displ: 5.4<br />hwy: 17<br />class: suv","displ: 5.4<br />hwy: 18<br />class: suv","displ: 4.0<br />hwy: 17<br />class: suv","displ: 4.0<br />hwy: 19<br />class: suv","displ: 4.0<br />hwy: 17<br />class: suv","displ: 4.0<br />hwy: 19<br />class: suv","displ: 4.6<br />hwy: 19<br />class: suv","displ: 5.0<br />hwy: 17<br />class: suv","displ: 3.0<br />hwy: 22<br />class: suv","displ: 3.7<br />hwy: 19<br />class: suv","displ: 4.0<br />hwy: 20<br />class: suv","displ: 4.7<br />hwy: 17<br />class: suv","displ: 4.7<br />hwy: 12<br />class: suv","displ: 4.7<br />hwy: 19<br />class: suv","displ: 5.7<br />hwy: 18<br />class: suv","displ: 6.1<br />hwy: 14<br />class: suv","displ: 4.0<br />hwy: 15<br />class: suv","displ: 4.2<br />hwy: 18<br />class: suv","displ: 4.4<br />hwy: 18<br />class: suv","displ: 4.6<br />hwy: 15<br />class: suv","displ: 5.4<br />hwy: 17<br />class: suv","displ: 5.4<br />hwy: 16<br />class: suv","displ: 5.4<br />hwy: 18<br />class: suv","displ: 4.0<br />hwy: 17<br />class: suv","displ: 4.0<br />hwy: 19<br />class: suv","displ: 4.6<br />hwy: 19<br />class: suv","displ: 5.0<br />hwy: 17<br />class: suv","displ: 3.3<br />hwy: 17<br />class: suv","displ: 3.3<br />hwy: 17<br />class: suv","displ: 4.0<br />hwy: 20<br />class: suv","displ: 5.6<br />hwy: 18<br />class: suv","displ: 2.5<br />hwy: 25<br />class: suv","displ: 2.5<br />hwy: 24<br />class: suv","displ: 2.5<br />hwy: 27<br />class: suv","displ: 2.5<br />hwy: 25<br />class: suv","displ: 2.5<br />hwy: 26<br />class: suv","displ: 2.5<br />hwy: 23<br />class: suv","displ: 2.7<br />hwy: 20<br />class: suv","displ: 2.7<br />hwy: 20<br />class: suv","displ: 3.4<br />hwy: 19<br />class: suv","displ: 3.4<br />hwy: 17<br />class: suv","displ: 4.0<br />hwy: 20<br />class: suv","displ: 4.7<br />hwy: 17<br />class: suv","displ: 4.7<br />hwy: 15<br />class: suv","displ: 5.7<br />hwy: 18<br />class: suv"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(251,97,215,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(251,97,215,1)"}},"hoveron":"points","name":"suv","legendgroup":"suv","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1.6000000000000001,1.6683544303797468,1.7367088607594938,1.8050632911392406,1.8734177215189876,1.9417721518987343,2.0101265822784811,2.0784810126582278,2.1468354430379746,2.2151898734177218,2.2835443037974685,2.3518987341772153,2.420253164556962,2.4886075949367088,2.556962025316456,2.6253164556962028,2.6936708860759495,2.7620253164556963,2.830379746835443,2.8987341772151902,2.967088607594937,3.0354430379746837,3.1037974683544305,3.1721518987341772,3.2405063291139244,3.3088607594936708,3.377215189873418,3.4455696202531647,3.5139240506329115,3.5822784810126587,3.6506329113924054,3.7189873417721522,3.7873417721518989,3.8556962025316457,3.9240506329113924,3.9924050632911396,4.0607594936708864,4.1291139240506336,4.1974683544303799,4.2658227848101262,4.3341772151898734,4.4025316455696206,4.4708860759493678,4.5392405063291141,4.6075949367088604,4.6759493670886076,4.7443037974683548,4.812658227848102,4.8810126582278484,4.9493670886075947,5.0177215189873419,5.0860759493670891,5.1544303797468363,5.2227848101265826,5.2911392405063289,5.3594936708860761,5.4278481012658233,5.4962025316455705,5.5645569620253168,5.6329113924050631,5.7012658227848103,5.7696202531645575,5.8379746835443047,5.9063291139240501,5.9746835443037973,6.0430379746835445,6.1113924050632917,6.1797468354430389,6.2481012658227844,6.3164556962025316,6.3848101265822788,6.453164556962026,6.5215189873417732,6.5898734177215186,6.6582278481012658,6.726582278481013,6.7949367088607602,6.8632911392405074,6.9316455696202528,7],"y":[33.092856601853775,32.51078355035709,31.942220282938941,31.388484860677561,30.850895344651203,30.329995750033859,29.82385891881011,29.33337421940621,28.858385139052402,28.398142907231776,27.951898753427432,27.51890390712245,27.098763113307726,26.695783673587776,26.309081882146465,25.935588466411236,25.572234153809493,25.229179538119439,24.918193811384164,24.629874974796856,24.35467401695416,24.083041926452747,23.805473995433324,23.529589280263281,23.264636248189341,23.008106285748166,22.757490779476417,22.510281115910747,22.263968681587823,22.0160448630443,21.764001046816837,21.5053286194421,21.23751896745674,20.958063477397427,20.663694602766107,20.346382530292075,20.011440388454826,19.667539399964049,19.323350787529453,18.987545773860717,18.668795581667542,18.375771433659626,18.117144552546669,17.901586161038363,17.737478261884668,17.603892509481771,17.484469169152128,17.380369635021232,17.292755301214584,17.222787561857672,17.171627811076,17.140437442995061,17.130377851740352,17.142610431437372,17.178296576211618,17.236490288008032,17.314259588958247,17.41154966667418,17.528349170468655,17.664646749654477,17.820431053544468,17.995690731451443,18.190414432688208,18.404590806567583,18.638208502402385,18.891256169505432,19.163722457189532,19.455596014767494,19.766865491552135,20.097519536856286,20.447546799992747,20.816935930274337,21.205675577013864,21.613754389524139,22.041161017118,22.487884109108244,22.953912314807688,23.439234283529153,23.943838664585428,24.46771410728936],"text":["displ: 1.600000<br />hwy: 33.09286","displ: 1.668354<br />hwy: 32.51078","displ: 1.736709<br />hwy: 31.94222","displ: 1.805063<br />hwy: 31.38848","displ: 1.873418<br />hwy: 30.85090","displ: 1.941772<br />hwy: 30.33000","displ: 2.010127<br />hwy: 29.82386","displ: 2.078481<br />hwy: 29.33337","displ: 2.146835<br />hwy: 28.85839","displ: 2.215190<br />hwy: 28.39814","displ: 2.283544<br />hwy: 27.95190","displ: 2.351899<br />hwy: 27.51890","displ: 2.420253<br />hwy: 27.09876","displ: 2.488608<br />hwy: 26.69578","displ: 2.556962<br />hwy: 26.30908","displ: 2.625316<br />hwy: 25.93559","displ: 2.693671<br />hwy: 25.57223","displ: 2.762025<br />hwy: 25.22918","displ: 2.830380<br />hwy: 24.91819","displ: 2.898734<br />hwy: 24.62987","displ: 2.967089<br />hwy: 24.35467","displ: 3.035443<br />hwy: 24.08304","displ: 3.103797<br />hwy: 23.80547","displ: 3.172152<br />hwy: 23.52959","displ: 3.240506<br />hwy: 23.26464","displ: 3.308861<br />hwy: 23.00811","displ: 3.377215<br />hwy: 22.75749","displ: 3.445570<br />hwy: 22.51028","displ: 3.513924<br />hwy: 22.26397","displ: 3.582278<br />hwy: 22.01604","displ: 3.650633<br />hwy: 21.76400","displ: 3.718987<br />hwy: 21.50533","displ: 3.787342<br />hwy: 21.23752","displ: 3.855696<br />hwy: 20.95806","displ: 3.924051<br />hwy: 20.66369","displ: 3.992405<br />hwy: 20.34638","displ: 4.060759<br />hwy: 20.01144","displ: 4.129114<br />hwy: 19.66754","displ: 4.197468<br />hwy: 19.32335","displ: 4.265823<br />hwy: 18.98755","displ: 4.334177<br />hwy: 18.66880","displ: 4.402532<br />hwy: 18.37577","displ: 4.470886<br />hwy: 18.11714","displ: 4.539241<br />hwy: 17.90159","displ: 4.607595<br />hwy: 17.73748","displ: 4.675949<br />hwy: 17.60389","displ: 4.744304<br />hwy: 17.48447","displ: 4.812658<br />hwy: 17.38037","displ: 4.881013<br />hwy: 17.29276","displ: 4.949367<br />hwy: 17.22279","displ: 5.017722<br />hwy: 17.17163","displ: 5.086076<br />hwy: 17.14044","displ: 5.154430<br />hwy: 17.13038","displ: 5.222785<br />hwy: 17.14261","displ: 5.291139<br />hwy: 17.17830","displ: 5.359494<br />hwy: 17.23649","displ: 5.427848<br />hwy: 17.31426","displ: 5.496203<br />hwy: 17.41155","displ: 5.564557<br />hwy: 17.52835","displ: 5.632911<br />hwy: 17.66465","displ: 5.701266<br />hwy: 17.82043","displ: 5.769620<br />hwy: 17.99569","displ: 5.837975<br />hwy: 18.19041","displ: 5.906329<br />hwy: 18.40459","displ: 5.974684<br />hwy: 18.63821","displ: 6.043038<br />hwy: 18.89126","displ: 6.111392<br />hwy: 19.16372","displ: 6.179747<br />hwy: 19.45560","displ: 6.248101<br />hwy: 19.76687","displ: 6.316456<br />hwy: 20.09752","displ: 6.384810<br />hwy: 20.44755","displ: 6.453165<br />hwy: 20.81694","displ: 6.521519<br />hwy: 21.20568","displ: 6.589873<br />hwy: 21.61375","displ: 6.658228<br />hwy: 22.04116","displ: 6.726582<br />hwy: 22.48788","displ: 6.794937<br />hwy: 22.95391","displ: 6.863291<br />hwy: 23.43923","displ: 6.931646<br />hwy: 23.94384","displ: 7.000000<br />hwy: 24.46771"],"type":"scatter","mode":"lines","name":"fitted values","line":{"width":3.7795275590551185,"color":"rgba(51,102,255,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1.6000000000000001,1.6683544303797468,1.7367088607594938,1.8050632911392406,1.8734177215189876,1.9417721518987343,2.0101265822784811,2.0784810126582278,2.1468354430379746,2.2151898734177218,2.2835443037974685,2.3518987341772153,2.420253164556962,2.4886075949367088,2.556962025316456,2.6253164556962028,2.6936708860759495,2.7620253164556963,2.830379746835443,2.8987341772151902,2.967088607594937,3.0354430379746837,3.1037974683544305,3.1721518987341772,3.2405063291139244,3.3088607594936708,3.377215189873418,3.4455696202531647,3.5139240506329115,3.5822784810126587,3.6506329113924054,3.7189873417721522,3.7873417721518989,3.8556962025316457,3.9240506329113924,3.9924050632911396,4.0607594936708864,4.1291139240506336,4.1974683544303799,4.2658227848101262,4.3341772151898734,4.4025316455696206,4.4708860759493678,4.5392405063291141,4.6075949367088604,4.6759493670886076,4.7443037974683548,4.812658227848102,4.8810126582278484,4.9493670886075947,5.0177215189873419,5.0860759493670891,5.1544303797468363,5.2227848101265826,5.2911392405063289,5.3594936708860761,5.4278481012658233,5.4962025316455705,5.5645569620253168,5.6329113924050631,5.7012658227848103,5.7696202531645575,5.8379746835443047,5.9063291139240501,5.9746835443037973,6.0430379746835445,6.1113924050632917,6.1797468354430389,6.2481012658227844,6.3164556962025316,6.3848101265822788,6.453164556962026,6.5215189873417732,6.5898734177215186,6.6582278481012658,6.726582278481013,6.7949367088607602,6.8632911392405074,6.9316455696202528,7,7,7,6.9316455696202528,6.8632911392405074,6.7949367088607602,6.726582278481013,6.6582278481012658,6.5898734177215186,6.5215189873417732,6.453164556962026,6.3848101265822788,6.3164556962025316,6.2481012658227844,6.1797468354430389,6.1113924050632917,6.0430379746835445,5.9746835443037973,5.9063291139240501,5.8379746835443047,5.7696202531645575,5.7012658227848103,5.6329113924050631,5.5645569620253168,5.4962025316455705,5.4278481012658233,5.3594936708860761,5.2911392405063289,5.2227848101265826,5.1544303797468363,5.0860759493670891,5.0177215189873419,4.9493670886075947,4.8810126582278484,4.812658227848102,4.7443037974683548,4.6759493670886076,4.6075949367088604,4.5392405063291141,4.4708860759493678,4.4025316455696206,4.3341772151898734,4.2658227848101262,4.1974683544303799,4.1291139240506336,4.0607594936708864,3.9924050632911396,3.9240506329113924,3.8556962025316457,3.7873417721518989,3.7189873417721522,3.6506329113924054,3.5822784810126587,3.5139240506329115,3.4455696202531647,3.377215189873418,3.3088607594936708,3.2405063291139244,3.1721518987341772,3.1037974683544305,3.0354430379746837,2.967088607594937,2.8987341772151902,2.830379746835443,2.7620253164556963,2.6936708860759495,2.6253164556962028,2.556962025316456,2.4886075949367088,2.420253164556962,2.3518987341772153,2.2835443037974685,2.2151898734177218,2.1468354430379746,2.0784810126582278,2.0101265822784811,1.9417721518987343,1.8734177215189876,1.8050632911392406,1.7367088607594938,1.6683544303797468,1.6000000000000001,1.6000000000000001],"y":[31.550292174195793,31.143961549634724,30.734766341174023,30.321917456816465,29.904971528724882,29.483426427439035,29.054623095409806,28.619194064456405,28.178138352187645,27.733165188183978,27.287080898839275,26.843189106552575,26.405132750751655,25.98239498124963,25.575921909057559,25.183254798879354,24.802393152877329,24.44550186596032,24.12143829272328,23.81452760851062,23.514852391723696,23.220242920853796,22.933520888616457,22.66599124215141,22.419122021648036,22.184142516019467,21.952370178198379,21.716169166381032,21.47003000795522,21.211337744309933,20.940375734846352,20.65955193518532,20.372285036614361,20.081982151462455,19.790060877064175,19.485225010972314,19.167134817178145,18.839684146605773,18.507615444318098,18.177256016002101,17.857020684613019,17.557441473747652,17.290678592427213,17.069694933758974,16.906974599230377,16.77950280359487,16.667093775087555,16.569539534903932,16.48683930892631,16.419291726217306,16.367540041855687,16.332555111691441,16.315548918827684,16.317822983780868,16.340565335936422,16.381909084776737,16.4371370093744,16.505176734410615,16.585022488705714,16.675759404071066,16.776626559572627,16.88705372042142,17.006669563008451,17.135285918322904,17.272866717517399,17.419490920707492,17.575316668696093,17.740550880089611,17.915425837209732,18.100182531946693,18.295059666518721,18.500286958894961,18.716081503162364,18.942646174150653,19.180169324397269,19.428825246143084,19.688775045495099,19.960167702385643,20.243141177391507,20.537823484714835,20.537823484714835,28.397604729863886,27.644536151779349,26.918300864672663,26.219049584120278,25.546942972073403,24.902152709838731,24.284862604897626,23.695269650865363,23.133584901653713,22.600033933466772,22.094856541765878,21.618305145894539,21.170641149445377,20.752128245682972,20.363021418303372,20.003550287287371,19.673895694812263,19.374159302367964,19.104327742481466,18.864235547516309,18.653534095237887,18.471675852231595,18.317922598937745,18.191382168542095,18.091071491239326,18.016027816486815,17.967397879093877,17.945206784653021,17.948319774298682,17.975715580296313,18.026283397498037,18.098671293502857,18.191199735138532,18.301844563216701,18.428282215368672,18.567981924538959,18.733477388317752,18.943610512666126,19.1941013935716,19.480570478722065,19.797835531719333,20.139086130740807,20.495394653322325,20.855745959731507,21.207540049611836,21.537328328468039,21.8341448033324,22.102752898299119,22.35110530369888,22.587626358787322,22.820751981778667,23.057907355220426,23.304393065440461,23.562611380754454,23.832070055476866,24.110150474730645,24.393187318375151,24.677427102250192,24.945840932051699,25.194495642184624,25.445222341083092,25.714949330045048,26.012857210278558,26.342075154741657,26.687922133943118,27.042241855235371,27.409172365925922,27.792393475863797,28.194618707692324,28.61671660801559,29.063120626279574,29.538631925917159,30.047554374356015,30.593094742210415,31.176565072628684,31.796819160577524,32.455052264538658,33.149674224703858,33.877605551079455,34.635421029511761,31.550292174195793],"text":["displ: 1.600000<br />hwy: 33.09286","displ: 1.668354<br />hwy: 32.51078","displ: 1.736709<br />hwy: 31.94222","displ: 1.805063<br />hwy: 31.38848","displ: 1.873418<br />hwy: 30.85090","displ: 1.941772<br />hwy: 30.33000","displ: 2.010127<br />hwy: 29.82386","displ: 2.078481<br />hwy: 29.33337","displ: 2.146835<br />hwy: 28.85839","displ: 2.215190<br />hwy: 28.39814","displ: 2.283544<br />hwy: 27.95190","displ: 2.351899<br />hwy: 27.51890","displ: 2.420253<br />hwy: 27.09876","displ: 2.488608<br />hwy: 26.69578","displ: 2.556962<br />hwy: 26.30908","displ: 2.625316<br />hwy: 25.93559","displ: 2.693671<br />hwy: 25.57223","displ: 2.762025<br />hwy: 25.22918","displ: 2.830380<br />hwy: 24.91819","displ: 2.898734<br />hwy: 24.62987","displ: 2.967089<br />hwy: 24.35467","displ: 3.035443<br />hwy: 24.08304","displ: 3.103797<br />hwy: 23.80547","displ: 3.172152<br />hwy: 23.52959","displ: 3.240506<br />hwy: 23.26464","displ: 3.308861<br />hwy: 23.00811","displ: 3.377215<br />hwy: 22.75749","displ: 3.445570<br />hwy: 22.51028","displ: 3.513924<br />hwy: 22.26397","displ: 3.582278<br />hwy: 22.01604","displ: 3.650633<br />hwy: 21.76400","displ: 3.718987<br />hwy: 21.50533","displ: 3.787342<br />hwy: 21.23752","displ: 3.855696<br />hwy: 20.95806","displ: 3.924051<br />hwy: 20.66369","displ: 3.992405<br />hwy: 20.34638","displ: 4.060759<br />hwy: 20.01144","displ: 4.129114<br />hwy: 19.66754","displ: 4.197468<br />hwy: 19.32335","displ: 4.265823<br />hwy: 18.98755","displ: 4.334177<br />hwy: 18.66880","displ: 4.402532<br />hwy: 18.37577","displ: 4.470886<br />hwy: 18.11714","displ: 4.539241<br />hwy: 17.90159","displ: 4.607595<br />hwy: 17.73748","displ: 4.675949<br />hwy: 17.60389","displ: 4.744304<br />hwy: 17.48447","displ: 4.812658<br />hwy: 17.38037","displ: 4.881013<br />hwy: 17.29276","displ: 4.949367<br />hwy: 17.22279","displ: 5.017722<br />hwy: 17.17163","displ: 5.086076<br />hwy: 17.14044","displ: 5.154430<br />hwy: 17.13038","displ: 5.222785<br />hwy: 17.14261","displ: 5.291139<br />hwy: 17.17830","displ: 5.359494<br />hwy: 17.23649","displ: 5.427848<br />hwy: 17.31426","displ: 5.496203<br />hwy: 17.41155","displ: 5.564557<br />hwy: 17.52835","displ: 5.632911<br />hwy: 17.66465","displ: 5.701266<br />hwy: 17.82043","displ: 5.769620<br />hwy: 17.99569","displ: 5.837975<br />hwy: 18.19041","displ: 5.906329<br />hwy: 18.40459","displ: 5.974684<br />hwy: 18.63821","displ: 6.043038<br />hwy: 18.89126","displ: 6.111392<br />hwy: 19.16372","displ: 6.179747<br />hwy: 19.45560","displ: 6.248101<br />hwy: 19.76687","displ: 6.316456<br />hwy: 20.09752","displ: 6.384810<br />hwy: 20.44755","displ: 6.453165<br />hwy: 20.81694","displ: 6.521519<br />hwy: 21.20568","displ: 6.589873<br />hwy: 21.61375","displ: 6.658228<br />hwy: 22.04116","displ: 6.726582<br />hwy: 22.48788","displ: 6.794937<br />hwy: 22.95391","displ: 6.863291<br />hwy: 23.43923","displ: 6.931646<br />hwy: 23.94384","displ: 7.000000<br />hwy: 24.46771","displ: 7.000000<br />hwy: 24.46771","displ: 7.000000<br />hwy: 24.46771","displ: 6.931646<br />hwy: 23.94384","displ: 6.863291<br />hwy: 23.43923","displ: 6.794937<br />hwy: 22.95391","displ: 6.726582<br />hwy: 22.48788","displ: 6.658228<br />hwy: 22.04116","displ: 6.589873<br />hwy: 21.61375","displ: 6.521519<br />hwy: 21.20568","displ: 6.453165<br />hwy: 20.81694","displ: 6.384810<br />hwy: 20.44755","displ: 6.316456<br />hwy: 20.09752","displ: 6.248101<br />hwy: 19.76687","displ: 6.179747<br />hwy: 19.45560","displ: 6.111392<br />hwy: 19.16372","displ: 6.043038<br />hwy: 18.89126","displ: 5.974684<br />hwy: 18.63821","displ: 5.906329<br />hwy: 18.40459","displ: 5.837975<br />hwy: 18.19041","displ: 5.769620<br />hwy: 17.99569","displ: 5.701266<br />hwy: 17.82043","displ: 5.632911<br />hwy: 17.66465","displ: 5.564557<br />hwy: 17.52835","displ: 5.496203<br />hwy: 17.41155","displ: 5.427848<br />hwy: 17.31426","displ: 5.359494<br />hwy: 17.23649","displ: 5.291139<br />hwy: 17.17830","displ: 5.222785<br />hwy: 17.14261","displ: 5.154430<br />hwy: 17.13038","displ: 5.086076<br />hwy: 17.14044","displ: 5.017722<br />hwy: 17.17163","displ: 4.949367<br />hwy: 17.22279","displ: 4.881013<br />hwy: 17.29276","displ: 4.812658<br />hwy: 17.38037","displ: 4.744304<br />hwy: 17.48447","displ: 4.675949<br />hwy: 17.60389","displ: 4.607595<br />hwy: 17.73748","displ: 4.539241<br />hwy: 17.90159","displ: 4.470886<br />hwy: 18.11714","displ: 4.402532<br />hwy: 18.37577","displ: 4.334177<br />hwy: 18.66880","displ: 4.265823<br />hwy: 18.98755","displ: 4.197468<br />hwy: 19.32335","displ: 4.129114<br />hwy: 19.66754","displ: 4.060759<br />hwy: 20.01144","displ: 3.992405<br />hwy: 20.34638","displ: 3.924051<br />hwy: 20.66369","displ: 3.855696<br />hwy: 20.95806","displ: 3.787342<br />hwy: 21.23752","displ: 3.718987<br />hwy: 21.50533","displ: 3.650633<br />hwy: 21.76400","displ: 3.582278<br />hwy: 22.01604","displ: 3.513924<br />hwy: 22.26397","displ: 3.445570<br />hwy: 22.51028","displ: 3.377215<br />hwy: 22.75749","displ: 3.308861<br />hwy: 23.00811","displ: 3.240506<br />hwy: 23.26464","displ: 3.172152<br />hwy: 23.52959","displ: 3.103797<br />hwy: 23.80547","displ: 3.035443<br />hwy: 24.08304","displ: 2.967089<br />hwy: 24.35467","displ: 2.898734<br />hwy: 24.62987","displ: 2.830380<br />hwy: 24.91819","displ: 2.762025<br />hwy: 25.22918","displ: 2.693671<br />hwy: 25.57223","displ: 2.625316<br />hwy: 25.93559","displ: 2.556962<br />hwy: 26.30908","displ: 2.488608<br />hwy: 26.69578","displ: 2.420253<br />hwy: 27.09876","displ: 2.351899<br />hwy: 27.51890","displ: 2.283544<br />hwy: 27.95190","displ: 2.215190<br />hwy: 28.39814","displ: 2.146835<br />hwy: 28.85839","displ: 2.078481<br />hwy: 29.33337","displ: 2.010127<br />hwy: 29.82386","displ: 1.941772<br />hwy: 30.33000","displ: 1.873418<br />hwy: 30.85090","displ: 1.805063<br />hwy: 31.38848","displ: 1.736709<br />hwy: 31.94222","displ: 1.668354<br />hwy: 32.51078","displ: 1.600000<br />hwy: 33.09286","displ: 1.600000<br />hwy: 33.09286"],"type":"scatter","mode":"lines","line":{"width":3.7795275590551185,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(153,153,153,0.4)","hoveron":"points","hoverinfo":"x+y","showlegend":false,"xaxis":"x","yaxis":"y","frame":null}],"layout":{"margin":{"t":26.228310502283104,"r":7.3059360730593621,"b":40.182648401826491,"l":37.260273972602747},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[1.2870464133704085,7.308496015961282],"tickmode":"array","ticktext":["2","3","4","5","6","7"],"tickvals":[2,3,4,5.0000000000000009,6,7],"categoryorder":"array","categoryarray":["2","3","4","5","6","7"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"displ","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[10.097666419325398,45.939805988753214],"tickmode":"array","ticktext":["20","30","40"],"tickvals":[20,30,40],"categoryorder":"array","categoryarray":["20","30","40"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"hwy","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"title":{"text":"class","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"b1262ba6959c":{"x":{},"y":{},"colour":{},"type":"scatter"},"b12648fd1b75":{"x":{},"y":{}}},"cur_data":"b1262ba6959c","visdat":{"b1262ba6959c":["function (y) ","x"],"b12648fd1b75":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>We can now use our mouse to hover over points and see the associated data, turn series off and on, and draw rectangles to zoom in.</p>
<p>This kind of visualisation is a good way to expose extra data through the tooltips. For example, associating the “manufacturer” and “model” variables to “label” aesthetics in the ggplot2 command won’t show that information on the static visualisation (unless labelling geometry is used), but it will be included in the plotly tooltip:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>static_plot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(mpg,</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">aes</span>(<span class="at">x =</span> displ,</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>                          <span class="at">y =</span> hwy)) <span class="sc">+</span> </span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="fu">aes</span>(<span class="at">colour =</span> class,</span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>                  <span class="at">label =</span> manufacturer,</span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>                  <span class="at">label2 =</span> model)) <span class="sc">+</span> </span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>()</span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(static_plot)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-86f58923b1944403f26f" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-86f58923b1944403f26f">{"x":{"data":[{"x":[5.6620450867712497,5.7218059655092661,6.22502430099994,6.1861757881753148,7.0219641426391899],"y":[25.633410263434051,23.397822896949947,26.028430064767598,25.10964188836515,23.615422058850527],"text":["displ: 5.7<br />hwy: 26<br />class: 2seater<br />manufacturer: chevrolet<br />model: corvette","displ: 5.7<br />hwy: 23<br />class: 2seater<br />manufacturer: chevrolet<br />model: corvette","displ: 6.2<br />hwy: 26<br />class: 2seater<br />manufacturer: chevrolet<br />model: corvette","displ: 6.2<br />hwy: 25<br />class: 2seater<br />manufacturer: chevrolet<br />model: corvette","displ: 7.0<br />hwy: 24<br />class: 2seater<br />manufacturer: chevrolet<br />model: corvette"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"2seater","legendgroup":"2seater","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1.8295304666832088,1.8201333311386407,1.9981332661211491,1.9868213538825512,2.8202758813463147,2.7889143741317093,3.1380578768998384,1.8209116862155497,1.8397004639543593,2.005912980940193,2.03056602075696,2.7804900032468138,2.7714015404134988,3.0774697991274298,3.0816004130057992,2.3890965829230844,2.3916527673602102,2.4615224190428853,2.4782129543274642,2.5226069592684506,2.5237061926722526,2.1936151276156308,2.21461615446955,2.4086915702186524,2.3791277368180452,3.0192505064606667,3.0310173953138291,3.2848406379669903,1.831309051811695,1.7855070376582445,1.7711309452354909,1.765259787309915,1.8314545645006,1.9702490855753423,2.0243355547823012,1.9645625058189036,2.0240849637798966,2.7986131984181699,1.8739000505395234,2.0168762386217711,2.0086309383250773,2.0393792250379921,1.9931897946447135,2.4722424564510583,2.4873975632339715,2.8098628064058717,2.763935024701059],"y":[29.048820401541889,28.763954948447644,31.159057323262097,30.316177350282668,26.008095584250988,26.325475675798952,27.38196845483035,25.685075489245357,25.060423675179482,28.140752011165024,27.313156293705106,24.838445097021758,24.945738661848008,24.673966329358517,25.000977689772846,29.283913709595801,27.142127086408436,24.995321472175419,26.805772016942502,24.748566220141946,27.001496967300774,26.609429388679565,28.907942830212413,31.02832661047578,31.248596954345704,26.368037975765766,26.264194180071353,27.202937985584139,29.62422036807984,32.677787199430171,34.774640352092682,36.806283294782041,34.664612333662809,28.869913281686603,25.860113928280771,29.159891235269605,29.239956666715443,23.890445084497333,43.902887521870433,29.161444466747344,26.113042496703564,29.397494059614836,28.612205730006099,28.946933401562273,29.173945454508065,22.644322499260305,23.633781333826484],"text":["displ: 1.8<br />hwy: 29<br />class: compact<br />manufacturer: audi<br />model: a4","displ: 1.8<br />hwy: 29<br />class: compact<br />manufacturer: audi<br />model: a4","displ: 2.0<br />hwy: 31<br />class: compact<br />manufacturer: audi<br />model: a4","displ: 2.0<br />hwy: 30<br />class: compact<br />manufacturer: audi<br />model: a4","displ: 2.8<br />hwy: 26<br />class: compact<br />manufacturer: audi<br />model: a4","displ: 2.8<br />hwy: 26<br />class: compact<br />manufacturer: audi<br />model: a4","displ: 3.1<br />hwy: 27<br />class: compact<br />manufacturer: audi<br />model: a4","displ: 1.8<br />hwy: 26<br />class: compact<br />manufacturer: audi<br />model: a4 quattro","displ: 1.8<br />hwy: 25<br />class: compact<br />manufacturer: audi<br />model: a4 quattro","displ: 2.0<br />hwy: 28<br />class: compact<br />manufacturer: audi<br />model: a4 quattro","displ: 2.0<br />hwy: 27<br />class: compact<br />manufacturer: audi<br />model: a4 quattro","displ: 2.8<br />hwy: 25<br />class: compact<br />manufacturer: audi<br />model: a4 quattro","displ: 2.8<br />hwy: 25<br />class: compact<br />manufacturer: audi<br />model: a4 quattro","displ: 3.1<br />hwy: 25<br />class: compact<br />manufacturer: audi<br />model: a4 quattro","displ: 3.1<br />hwy: 25<br />class: compact<br />manufacturer: audi<br />model: a4 quattro","displ: 2.4<br />hwy: 29<br />class: compact<br />manufacturer: nissan<br />model: altima","displ: 2.4<br />hwy: 27<br />class: compact<br />manufacturer: nissan<br />model: altima","displ: 2.5<br />hwy: 25<br />class: compact<br />manufacturer: subaru<br />model: impreza awd","displ: 2.5<br />hwy: 27<br />class: compact<br />manufacturer: subaru<br />model: impreza awd","displ: 2.5<br />hwy: 25<br />class: compact<br />manufacturer: subaru<br />model: impreza awd","displ: 2.5<br />hwy: 27<br />class: compact<br />manufacturer: subaru<br />model: impreza awd","displ: 2.2<br />hwy: 27<br />class: compact<br />manufacturer: toyota<br />model: camry solara","displ: 2.2<br />hwy: 29<br />class: compact<br />manufacturer: toyota<br />model: camry solara","displ: 2.4<br />hwy: 31<br />class: compact<br />manufacturer: toyota<br />model: camry solara","displ: 2.4<br />hwy: 31<br />class: compact<br />manufacturer: toyota<br />model: camry solara","displ: 3.0<br />hwy: 26<br />class: compact<br />manufacturer: toyota<br />model: camry solara","displ: 3.0<br />hwy: 26<br />class: compact<br />manufacturer: toyota<br />model: camry solara","displ: 3.3<br />hwy: 27<br />class: compact<br />manufacturer: toyota<br />model: camry solara","displ: 1.8<br />hwy: 30<br />class: compact<br />manufacturer: toyota<br />model: corolla","displ: 1.8<br />hwy: 33<br />class: compact<br />manufacturer: toyota<br />model: corolla","displ: 1.8<br />hwy: 35<br />class: compact<br />manufacturer: toyota<br />model: corolla","displ: 1.8<br />hwy: 37<br />class: compact<br />manufacturer: toyota<br />model: corolla","displ: 1.8<br />hwy: 35<br />class: compact<br />manufacturer: toyota<br />model: corolla","displ: 2.0<br />hwy: 29<br />class: compact<br />manufacturer: volkswagen<br />model: gti","displ: 2.0<br />hwy: 26<br />class: compact<br />manufacturer: volkswagen<br />model: gti","displ: 2.0<br />hwy: 29<br />class: compact<br />manufacturer: volkswagen<br />model: gti","displ: 2.0<br />hwy: 29<br />class: compact<br />manufacturer: volkswagen<br />model: gti","displ: 2.8<br />hwy: 24<br />class: compact<br />manufacturer: volkswagen<br />model: gti","displ: 1.9<br />hwy: 44<br />class: compact<br />manufacturer: volkswagen<br />model: jetta","displ: 2.0<br />hwy: 29<br />class: compact<br />manufacturer: volkswagen<br />model: jetta","displ: 2.0<br />hwy: 26<br />class: compact<br />manufacturer: volkswagen<br />model: jetta","displ: 2.0<br />hwy: 29<br />class: compact<br />manufacturer: volkswagen<br />model: jetta","displ: 2.0<br />hwy: 29<br />class: compact<br />manufacturer: volkswagen<br />model: jetta","displ: 2.5<br />hwy: 29<br />class: compact<br />manufacturer: volkswagen<br />model: jetta","displ: 2.5<br />hwy: 29<br />class: compact<br />manufacturer: volkswagen<br />model: jetta","displ: 2.8<br />hwy: 23<br />class: compact<br />manufacturer: volkswagen<br />model: jetta","displ: 2.8<br />hwy: 24<br />class: compact<br />manufacturer: volkswagen<br />model: jetta"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(196,154,0,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(196,154,0,1)"}},"hoveron":"points","name":"compact","legendgroup":"compact","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2.782108914721757,3.0636837134510282,4.2096588939428328,2.4093330325372517,2.3934013540111483,3.0622832287661734,3.4763458288833498,3.6009524806216362,2.412251640651375,2.3737933041900394,2.3746946310065686,2.4390877565182745,2.5078705671615897,2.5296914055943489,3.3000405338220298,2.497110942285508,2.5030889622308314,3.5366070836782453,3.4925601953826844,3.0345145607925952,3.0335398741252719,3.5259617166779935,3.1074841368943455,3.8319603737816212,3.8193428412266073,3.8256183679401872,5.292818188797682,2.1652390745840968,2.1983985969796778,2.3953738455846905,2.395853255242109,3.0276442329026758,2.9687133489735427,3.5260032870993019,1.7807284784503281,1.8383264075964689,2.0350121182948349,1.9787054825946688,2.8392140366137024,2.783808245435357,3.632140047736466],"y":[23.886716188676655,25.03262616675347,22.920644016005099,27.184450726024806,30.168776128999887,25.799413749016821,29.199640337377787,25.893131604418159,25.727740730717777,26.858018710836767,30.271615868993102,30.84873900990933,26.018602749519051,25.930767389573155,27.656806016713382,31.352776820771396,31.684579571150245,26.705393750965595,25.710599646531044,25.728435300663115,25.00889608487487,24.982644296623768,26.220657708309592,25.603275240771474,26.623374288901687,28.104923837259413,25.283335039764644,29.361755674146117,26.996408140845595,30.692509946040808,30.802310267835857,26.080597185902299,26.157813308574259,28.198695782385766,29.244603834487499,28.712594582140447,27.984846971184016,29.281505796127021,25.690895510092378,26.060329340957104,26.063816322386266],"text":["displ: 2.8<br />hwy: 24<br />class: midsize<br />manufacturer: audi<br />model: a6 quattro","displ: 3.1<br />hwy: 25<br />class: midsize<br />manufacturer: audi<br />model: a6 quattro","displ: 4.2<br />hwy: 23<br />class: midsize<br />manufacturer: audi<br />model: a6 quattro","displ: 2.4<br />hwy: 27<br />class: midsize<br />manufacturer: chevrolet<br />model: malibu","displ: 2.4<br />hwy: 30<br />class: midsize<br />manufacturer: chevrolet<br />model: malibu","displ: 3.1<br />hwy: 26<br />class: midsize<br />manufacturer: chevrolet<br />model: malibu","displ: 3.5<br />hwy: 29<br />class: midsize<br />manufacturer: chevrolet<br />model: malibu","displ: 3.6<br />hwy: 26<br />class: midsize<br />manufacturer: chevrolet<br />model: malibu","displ: 2.4<br />hwy: 26<br />class: midsize<br />manufacturer: hyundai<br />model: sonata","displ: 2.4<br />hwy: 27<br />class: midsize<br />manufacturer: hyundai<br />model: sonata","displ: 2.4<br />hwy: 30<br />class: midsize<br />manufacturer: hyundai<br />model: sonata","displ: 2.4<br />hwy: 31<br />class: midsize<br />manufacturer: hyundai<br />model: sonata","displ: 2.5<br />hwy: 26<br />class: midsize<br />manufacturer: hyundai<br />model: sonata","displ: 2.5<br />hwy: 26<br />class: midsize<br />manufacturer: hyundai<br />model: sonata","displ: 3.3<br />hwy: 28<br />class: midsize<br />manufacturer: hyundai<br />model: sonata","displ: 2.5<br />hwy: 31<br />class: midsize<br />manufacturer: nissan<br />model: altima","displ: 2.5<br />hwy: 32<br />class: midsize<br />manufacturer: nissan<br />model: altima","displ: 3.5<br />hwy: 27<br />class: midsize<br />manufacturer: nissan<br />model: altima","displ: 3.5<br />hwy: 26<br />class: midsize<br />manufacturer: nissan<br />model: altima","displ: 3.0<br />hwy: 26<br />class: midsize<br />manufacturer: nissan<br />model: maxima","displ: 3.0<br />hwy: 25<br />class: midsize<br />manufacturer: nissan<br />model: maxima","displ: 3.5<br />hwy: 25<br />class: midsize<br />manufacturer: nissan<br />model: maxima","displ: 3.1<br />hwy: 26<br />class: midsize<br />manufacturer: pontiac<br />model: grand prix","displ: 3.8<br />hwy: 26<br />class: midsize<br />manufacturer: pontiac<br />model: grand prix","displ: 3.8<br />hwy: 27<br />class: midsize<br />manufacturer: pontiac<br />model: grand prix","displ: 3.8<br />hwy: 28<br />class: midsize<br />manufacturer: pontiac<br />model: grand prix","displ: 5.3<br />hwy: 25<br />class: midsize<br />manufacturer: pontiac<br />model: grand prix","displ: 2.2<br />hwy: 29<br />class: midsize<br />manufacturer: toyota<br />model: camry","displ: 2.2<br />hwy: 27<br />class: midsize<br />manufacturer: toyota<br />model: camry","displ: 2.4<br />hwy: 31<br />class: midsize<br />manufacturer: toyota<br />model: camry","displ: 2.4<br />hwy: 31<br />class: midsize<br />manufacturer: toyota<br />model: camry","displ: 3.0<br />hwy: 26<br />class: midsize<br />manufacturer: toyota<br />model: camry","displ: 3.0<br />hwy: 26<br />class: midsize<br />manufacturer: toyota<br />model: camry","displ: 3.5<br />hwy: 28<br />class: midsize<br />manufacturer: toyota<br />model: camry","displ: 1.8<br />hwy: 29<br />class: midsize<br />manufacturer: volkswagen<br />model: passat","displ: 1.8<br />hwy: 29<br />class: midsize<br />manufacturer: volkswagen<br />model: passat","displ: 2.0<br />hwy: 28<br />class: midsize<br />manufacturer: volkswagen<br />model: passat","displ: 2.0<br />hwy: 29<br />class: midsize<br />manufacturer: volkswagen<br />model: passat","displ: 2.8<br />hwy: 26<br />class: midsize<br />manufacturer: volkswagen<br />model: passat","displ: 2.8<br />hwy: 26<br />class: midsize<br />manufacturer: volkswagen<br />model: passat","displ: 3.6<br />hwy: 26<br />class: midsize<br />manufacturer: volkswagen<br />model: passat"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(83,180,0,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(83,180,0,1)"}},"hoveron":"points","name":"midsize","legendgroup":"midsize","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2.4038787869922817,3.0327730265446005,3.3081255973130461,3.2815490416251123,3.2920424737408758,3.2650635871849953,3.2954789798147974,3.7754482533596456,3.7630519561655817,3.8079526312462981,4.0098096209950747],"y":[24.333658154495062,24.082648989185692,22.179514879360795,22.257880415022374,24.062403346970676,24.38956420812756,17.286678698472677,22.159301498718559,21.2530539046973,23.081347668357193,22.892382682487369],"text":["displ: 2.4<br />hwy: 24<br />class: minivan<br />manufacturer: dodge<br />model: caravan 2wd","displ: 3.0<br />hwy: 24<br />class: minivan<br />manufacturer: dodge<br />model: caravan 2wd","displ: 3.3<br />hwy: 22<br />class: minivan<br />manufacturer: dodge<br />model: caravan 2wd","displ: 3.3<br />hwy: 22<br />class: minivan<br />manufacturer: dodge<br />model: caravan 2wd","displ: 3.3<br />hwy: 24<br />class: minivan<br />manufacturer: dodge<br />model: caravan 2wd","displ: 3.3<br />hwy: 24<br />class: minivan<br />manufacturer: dodge<br />model: caravan 2wd","displ: 3.3<br />hwy: 17<br />class: minivan<br />manufacturer: dodge<br />model: caravan 2wd","displ: 3.8<br />hwy: 22<br />class: minivan<br />manufacturer: dodge<br />model: caravan 2wd","displ: 3.8<br />hwy: 21<br />class: minivan<br />manufacturer: dodge<br />model: caravan 2wd","displ: 3.8<br />hwy: 23<br />class: minivan<br />manufacturer: dodge<br />model: caravan 2wd","displ: 4.0<br />hwy: 23<br />class: minivan<br />manufacturer: dodge<br />model: caravan 2wd"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,192,148,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,192,148,1)"}},"hoveron":"points","name":"minivan","legendgroup":"minivan","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.720459659472108,3.7035710381157698,3.8850328054279091,3.9139267449080943,4.6948193789273507,4.6703189454600214,4.7248779430426655,5.2399067674204707,5.1963750766590238,4.6963238239660861,4.7265525514446196,4.6716682261601097,4.6965596841834492,4.6888297073170548,4.667771078366787,5.164493046551943,5.1901739255711439,5.72225295400247,5.8788609782420105,4.2221368237957355,4.1809751510992648,4.5632475546933708,4.6137098399549723,4.606420628018677,5.3669294356554751,5.4079016922228043,2.704750396460295,2.6847866928763691,2.6738631808757787,3.3770632405392824,3.3914476296491922,3.982436416000128,3.9921022165752946],"y":[19.165013012848796,17.690222966112195,16.870236664637922,17.062401033192874,18.649938712269069,18.631177336722612,12.306294813379646,16.680122361704708,14.773941815271973,16.223937290720642,11.777832547202706,16.776482239365578,17.190660390444101,15.695623328164221,11.922228006273508,14.898781918920577,16.110888566635548,16.869239786826075,14.649348428845405,16.788149682432412,16.902628351002932,15.999210944026709,15.880260873027146,17.233571129105986,14.675710162334145,17.108605853654446,20.160301729477943,20.08140609636903,21.606821158714592,16.939781874418259,19.357395621202887,18.059140089154244,19.690981235168874],"text":["displ: 3.7<br />hwy: 19<br />class: pickup<br />manufacturer: dodge<br />model: dakota pickup 4wd","displ: 3.7<br />hwy: 18<br />class: pickup<br />manufacturer: dodge<br />model: dakota pickup 4wd","displ: 3.9<br />hwy: 17<br />class: pickup<br />manufacturer: dodge<br />model: dakota pickup 4wd","displ: 3.9<br />hwy: 17<br />class: pickup<br />manufacturer: dodge<br />model: dakota pickup 4wd","displ: 4.7<br />hwy: 19<br />class: pickup<br />manufacturer: dodge<br />model: dakota pickup 4wd","displ: 4.7<br />hwy: 19<br />class: pickup<br />manufacturer: dodge<br />model: dakota pickup 4wd","displ: 4.7<br />hwy: 12<br />class: pickup<br />manufacturer: dodge<br />model: dakota pickup 4wd","displ: 5.2<br />hwy: 17<br />class: pickup<br />manufacturer: dodge<br />model: dakota pickup 4wd","displ: 5.2<br />hwy: 15<br />class: pickup<br />manufacturer: dodge<br />model: dakota pickup 4wd","displ: 4.7<br />hwy: 16<br />class: pickup<br />manufacturer: dodge<br />model: ram 1500 pickup 4wd","displ: 4.7<br />hwy: 12<br />class: pickup<br />manufacturer: dodge<br />model: ram 1500 pickup 4wd","displ: 4.7<br />hwy: 17<br />class: pickup<br />manufacturer: dodge<br />model: ram 1500 pickup 4wd","displ: 4.7<br />hwy: 17<br />class: pickup<br />manufacturer: dodge<br />model: ram 1500 pickup 4wd","displ: 4.7<br />hwy: 16<br />class: pickup<br />manufacturer: dodge<br />model: ram 1500 pickup 4wd","displ: 4.7<br />hwy: 12<br />class: pickup<br />manufacturer: dodge<br />model: ram 1500 pickup 4wd","displ: 5.2<br />hwy: 15<br />class: pickup<br />manufacturer: dodge<br />model: ram 1500 pickup 4wd","displ: 5.2<br />hwy: 16<br />class: pickup<br />manufacturer: dodge<br />model: ram 1500 pickup 4wd","displ: 5.7<br />hwy: 17<br />class: pickup<br />manufacturer: dodge<br />model: ram 1500 pickup 4wd","displ: 5.9<br />hwy: 15<br />class: pickup<br />manufacturer: dodge<br />model: ram 1500 pickup 4wd","displ: 4.2<br />hwy: 17<br />class: pickup<br />manufacturer: ford<br />model: f150 pickup 4wd","displ: 4.2<br />hwy: 17<br />class: pickup<br />manufacturer: ford<br />model: f150 pickup 4wd","displ: 4.6<br />hwy: 16<br />class: pickup<br />manufacturer: ford<br />model: f150 pickup 4wd","displ: 4.6<br />hwy: 16<br />class: pickup<br />manufacturer: ford<br />model: f150 pickup 4wd","displ: 4.6<br />hwy: 17<br />class: pickup<br />manufacturer: ford<br />model: f150 pickup 4wd","displ: 5.4<br />hwy: 15<br />class: pickup<br />manufacturer: ford<br />model: f150 pickup 4wd","displ: 5.4<br />hwy: 17<br />class: pickup<br />manufacturer: ford<br />model: f150 pickup 4wd","displ: 2.7<br />hwy: 20<br />class: pickup<br />manufacturer: toyota<br />model: toyota tacoma 4wd","displ: 2.7<br />hwy: 20<br />class: pickup<br />manufacturer: toyota<br />model: toyota tacoma 4wd","displ: 2.7<br />hwy: 22<br />class: pickup<br />manufacturer: toyota<br />model: toyota tacoma 4wd","displ: 3.4<br />hwy: 17<br />class: pickup<br />manufacturer: toyota<br />model: toyota tacoma 4wd","displ: 3.4<br />hwy: 19<br />class: pickup<br />manufacturer: toyota<br />model: toyota tacoma 4wd","displ: 4.0<br />hwy: 18<br />class: pickup<br />manufacturer: toyota<br />model: toyota tacoma 4wd","displ: 4.0<br />hwy: 20<br />class: pickup<br />manufacturer: toyota<br />model: toyota tacoma 4wd"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,182,235,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,182,235,1)"}},"hoveron":"points","name":"pickup","legendgroup":"pickup","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.8152068320102988,3.8286903482861816,3.9661053274571896,3.9879901869781316,4.5793313083238898,4.5604691429436208,4.6341244789026677,4.5887492626532911,5.3858053212612873,1.6020090931653976,1.5769219239614907,1.591370884831995,1.6094254571944475,1.6261478975415229,1.7870531916990877,1.8005944178439677,1.8391295129247009,1.9949174321815373,1.9863898677937686,1.9951314436830581,1.99750307649374,1.9960685186833143,2.72929742006585,2.6773953372985129,2.6633905077911915,2.1735547698661688,2.1767617214471104,2.5088492567650973,2.519293308984488,1.8979800290055573,1.9069883883930743,2.0311141713336109,1.9823791194148361,2.5030804218165574,2.4798934316635131],"y":[26.104436386004089,25.256050514988601,26.335822220332922,23.983338484354316,21.050958468951286,21.641345746256412,22.62351012825966,22.327433765493332,20.178705270774664,32.671080020070079,31.623670334741472,31.96553736515343,28.932040756009521,32.225190124474466,33.828887736983596,36.211653736419976,35.940171688236298,28.618090260587632,25.663340250775217,28.987627099826931,27.949614387750625,27.273587109707297,23.672572990693151,23.961747338995337,24.002242447435854,25.609883491694927,26.335752203129232,25.993199371919037,25.610929076373576,44.112960021570323,41.25970688350499,29.054086720943452,26.328077418357132,28.179026056826114,29.136585886776448],"text":["displ: 3.8<br />hwy: 26<br />class: subcompact<br />manufacturer: ford<br />model: mustang","displ: 3.8<br />hwy: 25<br />class: subcompact<br />manufacturer: ford<br />model: mustang","displ: 4.0<br />hwy: 26<br />class: subcompact<br />manufacturer: ford<br />model: mustang","displ: 4.0<br />hwy: 24<br />class: subcompact<br />manufacturer: ford<br />model: mustang","displ: 4.6<br />hwy: 21<br />class: subcompact<br />manufacturer: ford<br />model: mustang","displ: 4.6<br />hwy: 22<br />class: subcompact<br />manufacturer: ford<br />model: mustang","displ: 4.6<br />hwy: 23<br />class: subcompact<br />manufacturer: ford<br />model: mustang","displ: 4.6<br />hwy: 22<br />class: subcompact<br />manufacturer: ford<br />model: mustang","displ: 5.4<br />hwy: 20<br />class: subcompact<br />manufacturer: ford<br />model: mustang","displ: 1.6<br />hwy: 33<br />class: subcompact<br />manufacturer: honda<br />model: civic","displ: 1.6<br />hwy: 32<br />class: subcompact<br />manufacturer: honda<br />model: civic","displ: 1.6<br />hwy: 32<br />class: subcompact<br />manufacturer: honda<br />model: civic","displ: 1.6<br />hwy: 29<br />class: subcompact<br />manufacturer: honda<br />model: civic","displ: 1.6<br />hwy: 32<br />class: subcompact<br />manufacturer: honda<br />model: civic","displ: 1.8<br />hwy: 34<br />class: subcompact<br />manufacturer: honda<br />model: civic","displ: 1.8<br />hwy: 36<br />class: subcompact<br />manufacturer: honda<br />model: civic","displ: 1.8<br />hwy: 36<br />class: subcompact<br />manufacturer: honda<br />model: civic","displ: 2.0<br />hwy: 29<br />class: subcompact<br />manufacturer: honda<br />model: civic","displ: 2.0<br />hwy: 26<br />class: subcompact<br />manufacturer: hyundai<br />model: tiburon","displ: 2.0<br />hwy: 29<br />class: subcompact<br />manufacturer: hyundai<br />model: tiburon","displ: 2.0<br />hwy: 28<br />class: subcompact<br />manufacturer: hyundai<br />model: tiburon","displ: 2.0<br />hwy: 27<br />class: subcompact<br />manufacturer: hyundai<br />model: tiburon","displ: 2.7<br />hwy: 24<br />class: subcompact<br />manufacturer: hyundai<br />model: tiburon","displ: 2.7<br />hwy: 24<br />class: subcompact<br />manufacturer: hyundai<br />model: tiburon","displ: 2.7<br />hwy: 24<br />class: subcompact<br />manufacturer: hyundai<br />model: tiburon","displ: 2.2<br />hwy: 26<br />class: subcompact<br />manufacturer: subaru<br />model: impreza awd","displ: 2.2<br />hwy: 26<br />class: subcompact<br />manufacturer: subaru<br />model: impreza awd","displ: 2.5<br />hwy: 26<br />class: subcompact<br />manufacturer: subaru<br />model: impreza awd","displ: 2.5<br />hwy: 26<br />class: subcompact<br />manufacturer: subaru<br />model: impreza awd","displ: 1.9<br />hwy: 44<br />class: subcompact<br />manufacturer: volkswagen<br />model: new beetle","displ: 1.9<br />hwy: 41<br />class: subcompact<br />manufacturer: volkswagen<br />model: new beetle","displ: 2.0<br />hwy: 29<br />class: subcompact<br />manufacturer: volkswagen<br />model: new beetle","displ: 2.0<br />hwy: 26<br />class: subcompact<br />manufacturer: volkswagen<br />model: new beetle","displ: 2.5<br />hwy: 28<br />class: subcompact<br />manufacturer: volkswagen<br />model: new beetle","displ: 2.5<br />hwy: 29<br />class: subcompact<br />manufacturer: volkswagen<br />model: new beetle"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(165,138,255,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(165,138,255,1)"}},"hoveron":"points","name":"subcompact","legendgroup":"subcompact","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[5.2658609421178699,5.300109441317618,5.335734866131097,5.6691578269377354,5.9900976419262593,5.3265876847691835,5.3040169120021163,5.6689551424980165,6.4885669064708056,3.8689352578297256,4.7108892196789389,4.7065569875575601,4.7295531353354452,5.1907898012921212,5.6811825502663851,5.8867326690256601,4.63593983631581,5.4184849407151345,5.3923332629911602,3.9614767820015553,4.0174262894876298,4.024465582389384,4.0348869033344092,4.5694728179648516,5.0317649714089931,3.0130089690163731,3.7241152696684003,3.9619246111437678,4.7165287023410203,4.7183838776685301,4.7133973429165783,5.695172328408808,6.1052115021273492,3.9613866244815292,4.2122337097115814,4.4262398009002215,4.5870224666036661,5.3890894798934461,5.3761186401918533,5.4161474365927278,3.9793527973070741,4.0094173957780006,4.6336161103099576,5.0030584642849867,3.2837933396734296,3.295825788229704,4.0009275197051464,5.6305138048715886,2.5091025676764547,2.4966652533411979,2.5222909150831399,2.4793519070185721,2.5371348673105238,2.5084213156066832,2.7073872738145295,2.6866609675437214,3.430650506559759,3.4198417795076965,4.0026379301957782,4.6853945675678554,4.6882841142453255,5.6961131912097338],"y":[19.980696165934205,15.028844996728003,19.851108564250172,17.236555733717978,16.803583267517389,18.882635928131641,14.051633108593524,14.692596457526088,17.111760996654631,16.830541417934,17.081992736272515,11.857667172700166,17.043694886565209,16.31333942580968,17.82150737158954,14.683870108425618,17.05810300875455,16.780032273940741,17.950789888203143,16.803753290139138,18.649334320612251,17.108620036952196,18.917337440885603,19.051142658106983,16.794033757410944,21.69423551503569,18.835559286549689,20.34035556539893,16.834391385316849,12.176523675769568,18.908974516019224,17.973057221062483,13.864940126985312,15.037854409776628,17.9106064517051,17.772938746213914,15.16198459342122,17.05673625972122,16.272867052443324,17.803185065649451,17.379894662834705,18.728104276210068,19.330980877205729,16.948249621503056,17.275280618667601,17.397393861413001,19.977608233503997,17.939260112680493,25.308375836350024,23.650899725407363,27.113046797551213,24.890437553822995,26.21454893797636,23.217069820873441,20.223193145915864,20.256438422016799,19.299291861802338,16.665385697782039,20.141853363066911,16.979848022013904,14.854422787576913,17.876699400693177],"text":["displ: 5.3<br />hwy: 20<br />class: suv<br />manufacturer: chevrolet<br />model: c1500 suburban 2wd","displ: 5.3<br />hwy: 15<br />class: suv<br />manufacturer: chevrolet<br />model: c1500 suburban 2wd","displ: 5.3<br />hwy: 20<br />class: suv<br />manufacturer: chevrolet<br />model: c1500 suburban 2wd","displ: 5.7<br />hwy: 17<br />class: suv<br />manufacturer: chevrolet<br />model: c1500 suburban 2wd","displ: 6.0<br />hwy: 17<br />class: suv<br />manufacturer: chevrolet<br />model: c1500 suburban 2wd","displ: 5.3<br />hwy: 19<br />class: suv<br />manufacturer: chevrolet<br />model: k1500 tahoe 4wd","displ: 5.3<br />hwy: 14<br />class: suv<br />manufacturer: chevrolet<br />model: k1500 tahoe 4wd","displ: 5.7<br />hwy: 15<br />class: suv<br />manufacturer: chevrolet<br />model: k1500 tahoe 4wd","displ: 6.5<br />hwy: 17<br />class: suv<br />manufacturer: chevrolet<br />model: k1500 tahoe 4wd","displ: 3.9<br />hwy: 17<br />class: suv<br />manufacturer: dodge<br />model: durango 4wd","displ: 4.7<br />hwy: 17<br />class: suv<br />manufacturer: dodge<br />model: durango 4wd","displ: 4.7<br />hwy: 12<br />class: suv<br />manufacturer: dodge<br />model: durango 4wd","displ: 4.7<br />hwy: 17<br />class: suv<br />manufacturer: dodge<br />model: durango 4wd","displ: 5.2<br />hwy: 16<br />class: suv<br />manufacturer: dodge<br />model: durango 4wd","displ: 5.7<br />hwy: 18<br />class: suv<br />manufacturer: dodge<br />model: durango 4wd","displ: 5.9<br />hwy: 15<br />class: suv<br />manufacturer: dodge<br />model: durango 4wd","displ: 4.6<br />hwy: 17<br />class: suv<br />manufacturer: ford<br />model: expedition 2wd","displ: 5.4<br />hwy: 17<br />class: suv<br />manufacturer: ford<br />model: expedition 2wd","displ: 5.4<br />hwy: 18<br />class: suv<br />manufacturer: ford<br />model: expedition 2wd","displ: 4.0<br />hwy: 17<br />class: suv<br />manufacturer: ford<br />model: explorer 4wd","displ: 4.0<br />hwy: 19<br />class: suv<br />manufacturer: ford<br />model: explorer 4wd","displ: 4.0<br />hwy: 17<br />class: suv<br />manufacturer: ford<br />model: explorer 4wd","displ: 4.0<br />hwy: 19<br />class: suv<br />manufacturer: ford<br />model: explorer 4wd","displ: 4.6<br />hwy: 19<br />class: suv<br />manufacturer: ford<br />model: explorer 4wd","displ: 5.0<br />hwy: 17<br />class: suv<br />manufacturer: ford<br />model: explorer 4wd","displ: 3.0<br />hwy: 22<br />class: suv<br />manufacturer: jeep<br />model: grand cherokee 4wd","displ: 3.7<br />hwy: 19<br />class: suv<br />manufacturer: jeep<br />model: grand cherokee 4wd","displ: 4.0<br />hwy: 20<br />class: suv<br />manufacturer: jeep<br />model: grand cherokee 4wd","displ: 4.7<br />hwy: 17<br />class: suv<br />manufacturer: jeep<br />model: grand cherokee 4wd","displ: 4.7<br />hwy: 12<br />class: suv<br />manufacturer: jeep<br />model: grand cherokee 4wd","displ: 4.7<br />hwy: 19<br />class: suv<br />manufacturer: jeep<br />model: grand cherokee 4wd","displ: 5.7<br />hwy: 18<br />class: suv<br />manufacturer: jeep<br />model: grand cherokee 4wd","displ: 6.1<br />hwy: 14<br />class: suv<br />manufacturer: jeep<br />model: grand cherokee 4wd","displ: 4.0<br />hwy: 15<br />class: suv<br />manufacturer: land rover<br />model: range rover","displ: 4.2<br />hwy: 18<br />class: suv<br />manufacturer: land rover<br />model: range rover","displ: 4.4<br />hwy: 18<br />class: suv<br />manufacturer: land rover<br />model: range rover","displ: 4.6<br />hwy: 15<br />class: suv<br />manufacturer: land rover<br />model: range rover","displ: 5.4<br />hwy: 17<br />class: suv<br />manufacturer: lincoln<br />model: navigator 2wd","displ: 5.4<br />hwy: 16<br />class: suv<br />manufacturer: lincoln<br />model: navigator 2wd","displ: 5.4<br />hwy: 18<br />class: suv<br />manufacturer: lincoln<br />model: navigator 2wd","displ: 4.0<br />hwy: 17<br />class: suv<br />manufacturer: mercury<br />model: mountaineer 4wd","displ: 4.0<br />hwy: 19<br />class: suv<br />manufacturer: mercury<br />model: mountaineer 4wd","displ: 4.6<br />hwy: 19<br />class: suv<br />manufacturer: mercury<br />model: mountaineer 4wd","displ: 5.0<br />hwy: 17<br />class: suv<br />manufacturer: mercury<br />model: mountaineer 4wd","displ: 3.3<br />hwy: 17<br />class: suv<br />manufacturer: nissan<br />model: pathfinder 4wd","displ: 3.3<br />hwy: 17<br />class: suv<br />manufacturer: nissan<br />model: pathfinder 4wd","displ: 4.0<br />hwy: 20<br />class: suv<br />manufacturer: nissan<br />model: pathfinder 4wd","displ: 5.6<br />hwy: 18<br />class: suv<br />manufacturer: nissan<br />model: pathfinder 4wd","displ: 2.5<br />hwy: 25<br />class: suv<br />manufacturer: subaru<br />model: forester awd","displ: 2.5<br />hwy: 24<br />class: suv<br />manufacturer: subaru<br />model: forester awd","displ: 2.5<br />hwy: 27<br />class: suv<br />manufacturer: subaru<br />model: forester awd","displ: 2.5<br />hwy: 25<br />class: suv<br />manufacturer: subaru<br />model: forester awd","displ: 2.5<br />hwy: 26<br />class: suv<br />manufacturer: subaru<br />model: forester awd","displ: 2.5<br />hwy: 23<br />class: suv<br />manufacturer: subaru<br />model: forester awd","displ: 2.7<br />hwy: 20<br />class: suv<br />manufacturer: toyota<br />model: 4runner 4wd","displ: 2.7<br />hwy: 20<br />class: suv<br />manufacturer: toyota<br />model: 4runner 4wd","displ: 3.4<br />hwy: 19<br />class: suv<br />manufacturer: toyota<br />model: 4runner 4wd","displ: 3.4<br />hwy: 17<br />class: suv<br />manufacturer: toyota<br />model: 4runner 4wd","displ: 4.0<br />hwy: 20<br />class: suv<br />manufacturer: toyota<br />model: 4runner 4wd","displ: 4.7<br />hwy: 17<br />class: suv<br />manufacturer: toyota<br />model: 4runner 4wd","displ: 4.7<br />hwy: 15<br />class: suv<br />manufacturer: toyota<br />model: land cruiser wagon 4wd","displ: 5.7<br />hwy: 18<br />class: suv<br />manufacturer: toyota<br />model: land cruiser wagon 4wd"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(251,97,215,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(251,97,215,1)"}},"hoveron":"points","name":"suv","legendgroup":"suv","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1.6000000000000001,1.6683544303797468,1.7367088607594938,1.8050632911392406,1.8734177215189876,1.9417721518987343,2.0101265822784811,2.0784810126582278,2.1468354430379746,2.2151898734177218,2.2835443037974685,2.3518987341772153,2.420253164556962,2.4886075949367088,2.556962025316456,2.6253164556962028,2.6936708860759495,2.7620253164556963,2.830379746835443,2.8987341772151902,2.967088607594937,3.0354430379746837,3.1037974683544305,3.1721518987341772,3.2405063291139244,3.3088607594936708,3.377215189873418,3.4455696202531647,3.5139240506329115,3.5822784810126587,3.6506329113924054,3.7189873417721522,3.7873417721518989,3.8556962025316457,3.9240506329113924,3.9924050632911396,4.0607594936708864,4.1291139240506336,4.1974683544303799,4.2658227848101262,4.3341772151898734,4.4025316455696206,4.4708860759493678,4.5392405063291141,4.6075949367088604,4.6759493670886076,4.7443037974683548,4.812658227848102,4.8810126582278484,4.9493670886075947,5.0177215189873419,5.0860759493670891,5.1544303797468363,5.2227848101265826,5.2911392405063289,5.3594936708860761,5.4278481012658233,5.4962025316455705,5.5645569620253168,5.6329113924050631,5.7012658227848103,5.7696202531645575,5.8379746835443047,5.9063291139240501,5.9746835443037973,6.0430379746835445,6.1113924050632917,6.1797468354430389,6.2481012658227844,6.3164556962025316,6.3848101265822788,6.453164556962026,6.5215189873417732,6.5898734177215186,6.6582278481012658,6.726582278481013,6.7949367088607602,6.8632911392405074,6.9316455696202528,7],"y":[33.092856601853775,32.51078355035709,31.942220282938941,31.388484860677561,30.850895344651203,30.329995750033859,29.82385891881011,29.33337421940621,28.858385139052402,28.398142907231776,27.951898753427432,27.51890390712245,27.098763113307726,26.695783673587776,26.309081882146465,25.935588466411236,25.572234153809493,25.229179538119439,24.918193811384164,24.629874974796856,24.35467401695416,24.083041926452747,23.805473995433324,23.529589280263281,23.264636248189341,23.008106285748166,22.757490779476417,22.510281115910747,22.263968681587823,22.0160448630443,21.764001046816837,21.5053286194421,21.23751896745674,20.958063477397427,20.663694602766107,20.346382530292075,20.011440388454826,19.667539399964049,19.323350787529453,18.987545773860717,18.668795581667542,18.375771433659626,18.117144552546669,17.901586161038363,17.737478261884668,17.603892509481771,17.484469169152128,17.380369635021232,17.292755301214584,17.222787561857672,17.171627811076,17.140437442995061,17.130377851740352,17.142610431437372,17.178296576211618,17.236490288008032,17.314259588958247,17.41154966667418,17.528349170468655,17.664646749654477,17.820431053544468,17.995690731451443,18.190414432688208,18.404590806567583,18.638208502402385,18.891256169505432,19.163722457189532,19.455596014767494,19.766865491552135,20.097519536856286,20.447546799992747,20.816935930274337,21.205675577013864,21.613754389524139,22.041161017118,22.487884109108244,22.953912314807688,23.439234283529153,23.943838664585428,24.46771410728936],"text":["displ: 1.600000<br />hwy: 33.09286","displ: 1.668354<br />hwy: 32.51078","displ: 1.736709<br />hwy: 31.94222","displ: 1.805063<br />hwy: 31.38848","displ: 1.873418<br />hwy: 30.85090","displ: 1.941772<br />hwy: 30.33000","displ: 2.010127<br />hwy: 29.82386","displ: 2.078481<br />hwy: 29.33337","displ: 2.146835<br />hwy: 28.85839","displ: 2.215190<br />hwy: 28.39814","displ: 2.283544<br />hwy: 27.95190","displ: 2.351899<br />hwy: 27.51890","displ: 2.420253<br />hwy: 27.09876","displ: 2.488608<br />hwy: 26.69578","displ: 2.556962<br />hwy: 26.30908","displ: 2.625316<br />hwy: 25.93559","displ: 2.693671<br />hwy: 25.57223","displ: 2.762025<br />hwy: 25.22918","displ: 2.830380<br />hwy: 24.91819","displ: 2.898734<br />hwy: 24.62987","displ: 2.967089<br />hwy: 24.35467","displ: 3.035443<br />hwy: 24.08304","displ: 3.103797<br />hwy: 23.80547","displ: 3.172152<br />hwy: 23.52959","displ: 3.240506<br />hwy: 23.26464","displ: 3.308861<br />hwy: 23.00811","displ: 3.377215<br />hwy: 22.75749","displ: 3.445570<br />hwy: 22.51028","displ: 3.513924<br />hwy: 22.26397","displ: 3.582278<br />hwy: 22.01604","displ: 3.650633<br />hwy: 21.76400","displ: 3.718987<br />hwy: 21.50533","displ: 3.787342<br />hwy: 21.23752","displ: 3.855696<br />hwy: 20.95806","displ: 3.924051<br />hwy: 20.66369","displ: 3.992405<br />hwy: 20.34638","displ: 4.060759<br />hwy: 20.01144","displ: 4.129114<br />hwy: 19.66754","displ: 4.197468<br />hwy: 19.32335","displ: 4.265823<br />hwy: 18.98755","displ: 4.334177<br />hwy: 18.66880","displ: 4.402532<br />hwy: 18.37577","displ: 4.470886<br />hwy: 18.11714","displ: 4.539241<br />hwy: 17.90159","displ: 4.607595<br />hwy: 17.73748","displ: 4.675949<br />hwy: 17.60389","displ: 4.744304<br />hwy: 17.48447","displ: 4.812658<br />hwy: 17.38037","displ: 4.881013<br />hwy: 17.29276","displ: 4.949367<br />hwy: 17.22279","displ: 5.017722<br />hwy: 17.17163","displ: 5.086076<br />hwy: 17.14044","displ: 5.154430<br />hwy: 17.13038","displ: 5.222785<br />hwy: 17.14261","displ: 5.291139<br />hwy: 17.17830","displ: 5.359494<br />hwy: 17.23649","displ: 5.427848<br />hwy: 17.31426","displ: 5.496203<br />hwy: 17.41155","displ: 5.564557<br />hwy: 17.52835","displ: 5.632911<br />hwy: 17.66465","displ: 5.701266<br />hwy: 17.82043","displ: 5.769620<br />hwy: 17.99569","displ: 5.837975<br />hwy: 18.19041","displ: 5.906329<br />hwy: 18.40459","displ: 5.974684<br />hwy: 18.63821","displ: 6.043038<br />hwy: 18.89126","displ: 6.111392<br />hwy: 19.16372","displ: 6.179747<br />hwy: 19.45560","displ: 6.248101<br />hwy: 19.76687","displ: 6.316456<br />hwy: 20.09752","displ: 6.384810<br />hwy: 20.44755","displ: 6.453165<br />hwy: 20.81694","displ: 6.521519<br />hwy: 21.20568","displ: 6.589873<br />hwy: 21.61375","displ: 6.658228<br />hwy: 22.04116","displ: 6.726582<br />hwy: 22.48788","displ: 6.794937<br />hwy: 22.95391","displ: 6.863291<br />hwy: 23.43923","displ: 6.931646<br />hwy: 23.94384","displ: 7.000000<br />hwy: 24.46771"],"type":"scatter","mode":"lines","name":"fitted values","line":{"width":3.7795275590551185,"color":"rgba(51,102,255,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1.6000000000000001,1.6683544303797468,1.7367088607594938,1.8050632911392406,1.8734177215189876,1.9417721518987343,2.0101265822784811,2.0784810126582278,2.1468354430379746,2.2151898734177218,2.2835443037974685,2.3518987341772153,2.420253164556962,2.4886075949367088,2.556962025316456,2.6253164556962028,2.6936708860759495,2.7620253164556963,2.830379746835443,2.8987341772151902,2.967088607594937,3.0354430379746837,3.1037974683544305,3.1721518987341772,3.2405063291139244,3.3088607594936708,3.377215189873418,3.4455696202531647,3.5139240506329115,3.5822784810126587,3.6506329113924054,3.7189873417721522,3.7873417721518989,3.8556962025316457,3.9240506329113924,3.9924050632911396,4.0607594936708864,4.1291139240506336,4.1974683544303799,4.2658227848101262,4.3341772151898734,4.4025316455696206,4.4708860759493678,4.5392405063291141,4.6075949367088604,4.6759493670886076,4.7443037974683548,4.812658227848102,4.8810126582278484,4.9493670886075947,5.0177215189873419,5.0860759493670891,5.1544303797468363,5.2227848101265826,5.2911392405063289,5.3594936708860761,5.4278481012658233,5.4962025316455705,5.5645569620253168,5.6329113924050631,5.7012658227848103,5.7696202531645575,5.8379746835443047,5.9063291139240501,5.9746835443037973,6.0430379746835445,6.1113924050632917,6.1797468354430389,6.2481012658227844,6.3164556962025316,6.3848101265822788,6.453164556962026,6.5215189873417732,6.5898734177215186,6.6582278481012658,6.726582278481013,6.7949367088607602,6.8632911392405074,6.9316455696202528,7,7,7,6.9316455696202528,6.8632911392405074,6.7949367088607602,6.726582278481013,6.6582278481012658,6.5898734177215186,6.5215189873417732,6.453164556962026,6.3848101265822788,6.3164556962025316,6.2481012658227844,6.1797468354430389,6.1113924050632917,6.0430379746835445,5.9746835443037973,5.9063291139240501,5.8379746835443047,5.7696202531645575,5.7012658227848103,5.6329113924050631,5.5645569620253168,5.4962025316455705,5.4278481012658233,5.3594936708860761,5.2911392405063289,5.2227848101265826,5.1544303797468363,5.0860759493670891,5.0177215189873419,4.9493670886075947,4.8810126582278484,4.812658227848102,4.7443037974683548,4.6759493670886076,4.6075949367088604,4.5392405063291141,4.4708860759493678,4.4025316455696206,4.3341772151898734,4.2658227848101262,4.1974683544303799,4.1291139240506336,4.0607594936708864,3.9924050632911396,3.9240506329113924,3.8556962025316457,3.7873417721518989,3.7189873417721522,3.6506329113924054,3.5822784810126587,3.5139240506329115,3.4455696202531647,3.377215189873418,3.3088607594936708,3.2405063291139244,3.1721518987341772,3.1037974683544305,3.0354430379746837,2.967088607594937,2.8987341772151902,2.830379746835443,2.7620253164556963,2.6936708860759495,2.6253164556962028,2.556962025316456,2.4886075949367088,2.420253164556962,2.3518987341772153,2.2835443037974685,2.2151898734177218,2.1468354430379746,2.0784810126582278,2.0101265822784811,1.9417721518987343,1.8734177215189876,1.8050632911392406,1.7367088607594938,1.6683544303797468,1.6000000000000001,1.6000000000000001],"y":[31.550292174195793,31.143961549634724,30.734766341174023,30.321917456816465,29.904971528724882,29.483426427439035,29.054623095409806,28.619194064456405,28.178138352187645,27.733165188183978,27.287080898839275,26.843189106552575,26.405132750751655,25.98239498124963,25.575921909057559,25.183254798879354,24.802393152877329,24.44550186596032,24.12143829272328,23.81452760851062,23.514852391723696,23.220242920853796,22.933520888616457,22.66599124215141,22.419122021648036,22.184142516019467,21.952370178198379,21.716169166381032,21.47003000795522,21.211337744309933,20.940375734846352,20.65955193518532,20.372285036614361,20.081982151462455,19.790060877064175,19.485225010972314,19.167134817178145,18.839684146605773,18.507615444318098,18.177256016002101,17.857020684613019,17.557441473747652,17.290678592427213,17.069694933758974,16.906974599230377,16.77950280359487,16.667093775087555,16.569539534903932,16.48683930892631,16.419291726217306,16.367540041855687,16.332555111691441,16.315548918827684,16.317822983780868,16.340565335936422,16.381909084776737,16.4371370093744,16.505176734410615,16.585022488705714,16.675759404071066,16.776626559572627,16.88705372042142,17.006669563008451,17.135285918322904,17.272866717517399,17.419490920707492,17.575316668696093,17.740550880089611,17.915425837209732,18.100182531946693,18.295059666518721,18.500286958894961,18.716081503162364,18.942646174150653,19.180169324397269,19.428825246143084,19.688775045495099,19.960167702385643,20.243141177391507,20.537823484714835,20.537823484714835,28.397604729863886,27.644536151779349,26.918300864672663,26.219049584120278,25.546942972073403,24.902152709838731,24.284862604897626,23.695269650865363,23.133584901653713,22.600033933466772,22.094856541765878,21.618305145894539,21.170641149445377,20.752128245682972,20.363021418303372,20.003550287287371,19.673895694812263,19.374159302367964,19.104327742481466,18.864235547516309,18.653534095237887,18.471675852231595,18.317922598937745,18.191382168542095,18.091071491239326,18.016027816486815,17.967397879093877,17.945206784653021,17.948319774298682,17.975715580296313,18.026283397498037,18.098671293502857,18.191199735138532,18.301844563216701,18.428282215368672,18.567981924538959,18.733477388317752,18.943610512666126,19.1941013935716,19.480570478722065,19.797835531719333,20.139086130740807,20.495394653322325,20.855745959731507,21.207540049611836,21.537328328468039,21.8341448033324,22.102752898299119,22.35110530369888,22.587626358787322,22.820751981778667,23.057907355220426,23.304393065440461,23.562611380754454,23.832070055476866,24.110150474730645,24.393187318375151,24.677427102250192,24.945840932051699,25.194495642184624,25.445222341083092,25.714949330045048,26.012857210278558,26.342075154741657,26.687922133943118,27.042241855235371,27.409172365925922,27.792393475863797,28.194618707692324,28.61671660801559,29.063120626279574,29.538631925917159,30.047554374356015,30.593094742210415,31.176565072628684,31.796819160577524,32.455052264538658,33.149674224703858,33.877605551079455,34.635421029511761,31.550292174195793],"text":["displ: 1.600000<br />hwy: 33.09286","displ: 1.668354<br />hwy: 32.51078","displ: 1.736709<br />hwy: 31.94222","displ: 1.805063<br />hwy: 31.38848","displ: 1.873418<br />hwy: 30.85090","displ: 1.941772<br />hwy: 30.33000","displ: 2.010127<br />hwy: 29.82386","displ: 2.078481<br />hwy: 29.33337","displ: 2.146835<br />hwy: 28.85839","displ: 2.215190<br />hwy: 28.39814","displ: 2.283544<br />hwy: 27.95190","displ: 2.351899<br />hwy: 27.51890","displ: 2.420253<br />hwy: 27.09876","displ: 2.488608<br />hwy: 26.69578","displ: 2.556962<br />hwy: 26.30908","displ: 2.625316<br />hwy: 25.93559","displ: 2.693671<br />hwy: 25.57223","displ: 2.762025<br />hwy: 25.22918","displ: 2.830380<br />hwy: 24.91819","displ: 2.898734<br />hwy: 24.62987","displ: 2.967089<br />hwy: 24.35467","displ: 3.035443<br />hwy: 24.08304","displ: 3.103797<br />hwy: 23.80547","displ: 3.172152<br />hwy: 23.52959","displ: 3.240506<br />hwy: 23.26464","displ: 3.308861<br />hwy: 23.00811","displ: 3.377215<br />hwy: 22.75749","displ: 3.445570<br />hwy: 22.51028","displ: 3.513924<br />hwy: 22.26397","displ: 3.582278<br />hwy: 22.01604","displ: 3.650633<br />hwy: 21.76400","displ: 3.718987<br />hwy: 21.50533","displ: 3.787342<br />hwy: 21.23752","displ: 3.855696<br />hwy: 20.95806","displ: 3.924051<br />hwy: 20.66369","displ: 3.992405<br />hwy: 20.34638","displ: 4.060759<br />hwy: 20.01144","displ: 4.129114<br />hwy: 19.66754","displ: 4.197468<br />hwy: 19.32335","displ: 4.265823<br />hwy: 18.98755","displ: 4.334177<br />hwy: 18.66880","displ: 4.402532<br />hwy: 18.37577","displ: 4.470886<br />hwy: 18.11714","displ: 4.539241<br />hwy: 17.90159","displ: 4.607595<br />hwy: 17.73748","displ: 4.675949<br />hwy: 17.60389","displ: 4.744304<br />hwy: 17.48447","displ: 4.812658<br />hwy: 17.38037","displ: 4.881013<br />hwy: 17.29276","displ: 4.949367<br />hwy: 17.22279","displ: 5.017722<br />hwy: 17.17163","displ: 5.086076<br />hwy: 17.14044","displ: 5.154430<br />hwy: 17.13038","displ: 5.222785<br />hwy: 17.14261","displ: 5.291139<br />hwy: 17.17830","displ: 5.359494<br />hwy: 17.23649","displ: 5.427848<br />hwy: 17.31426","displ: 5.496203<br />hwy: 17.41155","displ: 5.564557<br />hwy: 17.52835","displ: 5.632911<br />hwy: 17.66465","displ: 5.701266<br />hwy: 17.82043","displ: 5.769620<br />hwy: 17.99569","displ: 5.837975<br />hwy: 18.19041","displ: 5.906329<br />hwy: 18.40459","displ: 5.974684<br />hwy: 18.63821","displ: 6.043038<br />hwy: 18.89126","displ: 6.111392<br />hwy: 19.16372","displ: 6.179747<br />hwy: 19.45560","displ: 6.248101<br />hwy: 19.76687","displ: 6.316456<br />hwy: 20.09752","displ: 6.384810<br />hwy: 20.44755","displ: 6.453165<br />hwy: 20.81694","displ: 6.521519<br />hwy: 21.20568","displ: 6.589873<br />hwy: 21.61375","displ: 6.658228<br />hwy: 22.04116","displ: 6.726582<br />hwy: 22.48788","displ: 6.794937<br />hwy: 22.95391","displ: 6.863291<br />hwy: 23.43923","displ: 6.931646<br />hwy: 23.94384","displ: 7.000000<br />hwy: 24.46771","displ: 7.000000<br />hwy: 24.46771","displ: 7.000000<br />hwy: 24.46771","displ: 6.931646<br />hwy: 23.94384","displ: 6.863291<br />hwy: 23.43923","displ: 6.794937<br />hwy: 22.95391","displ: 6.726582<br />hwy: 22.48788","displ: 6.658228<br />hwy: 22.04116","displ: 6.589873<br />hwy: 21.61375","displ: 6.521519<br />hwy: 21.20568","displ: 6.453165<br />hwy: 20.81694","displ: 6.384810<br />hwy: 20.44755","displ: 6.316456<br />hwy: 20.09752","displ: 6.248101<br />hwy: 19.76687","displ: 6.179747<br />hwy: 19.45560","displ: 6.111392<br />hwy: 19.16372","displ: 6.043038<br />hwy: 18.89126","displ: 5.974684<br />hwy: 18.63821","displ: 5.906329<br />hwy: 18.40459","displ: 5.837975<br />hwy: 18.19041","displ: 5.769620<br />hwy: 17.99569","displ: 5.701266<br />hwy: 17.82043","displ: 5.632911<br />hwy: 17.66465","displ: 5.564557<br />hwy: 17.52835","displ: 5.496203<br />hwy: 17.41155","displ: 5.427848<br />hwy: 17.31426","displ: 5.359494<br />hwy: 17.23649","displ: 5.291139<br />hwy: 17.17830","displ: 5.222785<br />hwy: 17.14261","displ: 5.154430<br />hwy: 17.13038","displ: 5.086076<br />hwy: 17.14044","displ: 5.017722<br />hwy: 17.17163","displ: 4.949367<br />hwy: 17.22279","displ: 4.881013<br />hwy: 17.29276","displ: 4.812658<br />hwy: 17.38037","displ: 4.744304<br />hwy: 17.48447","displ: 4.675949<br />hwy: 17.60389","displ: 4.607595<br />hwy: 17.73748","displ: 4.539241<br />hwy: 17.90159","displ: 4.470886<br />hwy: 18.11714","displ: 4.402532<br />hwy: 18.37577","displ: 4.334177<br />hwy: 18.66880","displ: 4.265823<br />hwy: 18.98755","displ: 4.197468<br />hwy: 19.32335","displ: 4.129114<br />hwy: 19.66754","displ: 4.060759<br />hwy: 20.01144","displ: 3.992405<br />hwy: 20.34638","displ: 3.924051<br />hwy: 20.66369","displ: 3.855696<br />hwy: 20.95806","displ: 3.787342<br />hwy: 21.23752","displ: 3.718987<br />hwy: 21.50533","displ: 3.650633<br />hwy: 21.76400","displ: 3.582278<br />hwy: 22.01604","displ: 3.513924<br />hwy: 22.26397","displ: 3.445570<br />hwy: 22.51028","displ: 3.377215<br />hwy: 22.75749","displ: 3.308861<br />hwy: 23.00811","displ: 3.240506<br />hwy: 23.26464","displ: 3.172152<br />hwy: 23.52959","displ: 3.103797<br />hwy: 23.80547","displ: 3.035443<br />hwy: 24.08304","displ: 2.967089<br />hwy: 24.35467","displ: 2.898734<br />hwy: 24.62987","displ: 2.830380<br />hwy: 24.91819","displ: 2.762025<br />hwy: 25.22918","displ: 2.693671<br />hwy: 25.57223","displ: 2.625316<br />hwy: 25.93559","displ: 2.556962<br />hwy: 26.30908","displ: 2.488608<br />hwy: 26.69578","displ: 2.420253<br />hwy: 27.09876","displ: 2.351899<br />hwy: 27.51890","displ: 2.283544<br />hwy: 27.95190","displ: 2.215190<br />hwy: 28.39814","displ: 2.146835<br />hwy: 28.85839","displ: 2.078481<br />hwy: 29.33337","displ: 2.010127<br />hwy: 29.82386","displ: 1.941772<br />hwy: 30.33000","displ: 1.873418<br />hwy: 30.85090","displ: 1.805063<br />hwy: 31.38848","displ: 1.736709<br />hwy: 31.94222","displ: 1.668354<br />hwy: 32.51078","displ: 1.600000<br />hwy: 33.09286","displ: 1.600000<br />hwy: 33.09286"],"type":"scatter","mode":"lines","line":{"width":3.7795275590551185,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(153,153,153,0.4)","hoveron":"points","hoverinfo":"x+y","showlegend":false,"xaxis":"x","yaxis":"y","frame":null}],"layout":{"margin":{"t":26.228310502283104,"r":7.3059360730593621,"b":40.182648401826491,"l":37.260273972602747},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[1.3046698130276058,7.294216253573075],"tickmode":"array","ticktext":["2","3","4","5","6","7"],"tickvals":[2,3,4,5,6,7],"categoryorder":"array","categoryarray":["2","3","4","5","6","7"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"displ","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[10.161076173484325,45.729716395288705],"tickmode":"array","ticktext":["20","30","40"],"tickvals":[20,30,40],"categoryorder":"array","categoryarray":["20","30","40"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"hwy","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"title":{"text":"class","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"b12644b67556":{"x":{},"y":{},"colour":{},"label":{},"label2":{},"type":"scatter"},"b1262bc3fffd":{"x":{},"y":{}}},"cur_data":"b12644b67556","visdat":{"b12644b67556":["function (y) ","x"],"b1262bc3fffd":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="further-resources" class="level2">
<h2 class="anchored" data-anchor-id="further-resources">Further resources</h2>
<ul>
<li><a href="https://www.rstudio.org/links/data_visualization_cheat_sheet">ggplot2 cheatsheet</a></li>
<li>Official <a href="https://ggplot2.tidyverse.org/reference/">ggplot2 documentation</a></li>
<li>Official <a href="https://ggplot2.tidyverse.org/">ggplot2 website</a></li>
<li><a href="https://r4ds.hadley.nz/data-visualize.html">Chapter on data visualisation</a> in the book <em>R for Data Science</em></li>
<li><a href="https://www.data-to-viz.com/">From Data to Viz</a>, a website to explore different visualisations and the code that generates them</li>
<li>Selva Prabhakaran’s <a href="https://r-statistics.co/ggplot2-Tutorial-With-R.html"><em>r-statistics.co</em> section on ggplot2</a></li>
<li><a href="https://ourcodingclub.github.io/tutorials/datavis/">Coding Club’s data visualisation tutorial</a></li>
<li><a href="https://www.sthda.com/english/wiki/ggplot2-essentials">STHDA’s ggplot2 essentials</a></li>
<li>Lear more about plotly and exploratory data analysis with the book <em><a href="https://plotly-r.com/">Interactive web-based data visualization with R, plotly, and shiny</a></em></li>
</ul>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/camwest5\.github\.io\/r-training-intensive\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>